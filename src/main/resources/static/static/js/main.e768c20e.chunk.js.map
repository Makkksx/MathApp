{"version":3,"sources":["config/FirebaseConfig.js","service/Auth.js","DarkMode.js","components/NaviBar.js","components/HomeBlocks/HomeTagCloud.js","util/APIUtils.js","components/HomeBlocks/HomeTasks.js","components/Home.js","components/AdminBlocks/UsersTable.js","components/Admin.js","config/AuthMethods.js","components/Login.js","components/ProfileBlocks/TasksTable.js","components/Profile.js","components/TaskCreationBlocks/DropPlace.js","components/TaskCreationBlocks/TaskCondition.js","components/TaskCreationBlocks/TaskHead.js","components/TaskCreationBlocks/TaskAnswer.js","components/TaskCreation.js","components/TaskBlocks/TaskAnswerChecker.js","components/Task.js","common/PrivateRoute.js","components/TaskEdit.js","App.js","reportWebVitals.js","index.js"],"names":["firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","React","createContext","auth","getAuth","firebase","AuthProvider","children","useState","currentUser","setCurrentUser","pending","setPending","useEffect","onAuthStateChanged","user","Provider","value","DarkMode","alert","useAlert","useContext","darkMode","setDarkMode","isDarkMode","a","getIdToken","then","idToken","axios","get","headers","response","data","catch","error","show","timeout","type","console","log","changeMode","post","handleDarkMode","event","defaultDarken","onChange","NaviBar","history","useHistory","admin","setAdmin","getIdTokenResult","idTokenResult","claims","Navbar","bg","expand","Container","to","Brand","Toggle","Collapse","id","Nav","className","Link","uid","onClick","signOut","push","HomeTagCloud","tagData","setTagData","fetchData","minSize","maxSize","tags","storage","getStorage","getURLData","url","Promise","resolve","reject","getDownloadURL","ref","Error","HomeTasks","tasks","setTasks","sorted","setSorted","task","conditionURL","condition","sort","b","Col","md","Form","Select","target","rating","map","index","Card","Header","Title","as","title","ratingValue","Subtitle","theme","tag","Badge","Body","Markdown","source","Button","Home","UsersTable","setData","rowEvents","e","row","rowIndex","striped","hover","keyField","columns","dataField","text","pagination","paginationFactory","sizePerPage","hideSizePerPage","Admin","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","githubProvider","GithubAuthProvider","Login","handleOnClick","provider","signInWithPopup","TasksTable","showDanger","setShowDanger","filter","textFilter","params","expandRow","renderer","variant","Modal","onHide","closeButton","Footer","length","filterFactory","Profile","profileData","setProfileData","useParams","username","ListGroup","Item","createdTasks","solvedTasks","baseStyle","flex","display","flexDirection","alignItems","padding","borderWidth","borderRadius","borderColor","borderStyle","backgroundColor","color","outline","transition","activeStyle","acceptStyle","rejectStyle","DropPlace","getImages","useDropzone","maxFiles","validator","file","includes","code","message","acceptedFiles","fileRejections","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","accFiles","path","size","rejFiles","errors","style","useMemo","TaskCondition","getCondition","setCondition","TaskHead","getTitle","getTheme","getTags","setTitle","setTheme","multiSelections","setMultiSelections","tagOptions","setTagOptions","themeOptions","setThemeOptions","options","required","option","Stack","gap","Group","Label","Control","placeholder","Feedback","clearButton","allowNew","labelKey","multiple","selected","TaskAnswer","getAnswer","answer","answers","setAnswers","handleAddFields","values","handleRemoveFields","splice","handleInputChange","Row","ButtonGroup","TaskCreation","mode","date","Date","getTime","setTags","images","setImages","setAnswer","validated","setValidated","useCallback","uploadFiles","uploadRef","name","uploadTask","uploadBytesResumable","taskError","on","snapshot","uploadData","imagesUrls","conditionUrl","tagsDto","answersDto","image","File","forEach","elm","substring","taskDto","handleSubmit","form","currentTarget","preventDefault","checkValidity","stopPropagation","handleEdit","noValidate","onSubmit","TaskAnswerChecker","taskId","solved","getSolved","sendAnswer","Task","setRating","ratingSend","setRatingSend","taskData","setTaskData","setSolved","addRating","rate","handleRating","ListGroupItem","Image","src","rounded","width","PrivateRoute","RouteComponent","component","rest","render","routeProps","TaskEdit","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","template","AlertTemplate","document","getElementById"],"mappings":"oOAaeA,EADKC,YAVG,CACnBC,OAAQ,0CACRC,WAAY,wCACZC,UAAW,wBACXC,cAAe,oCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iB,OCLNC,EAAcC,IAAMC,gBAC3BC,EAAOC,YAAQC,GACRC,EAAe,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAC1B,EAAsCC,mBAAS,MAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KASA,OAPAC,qBAAU,WACNV,EAAKW,oBAAmB,SAACC,GACrBL,EAAeK,GACfH,GAAW,QAEhB,IAECD,EACO,kDAGP,cAACX,EAAYgB,SAAb,CACIC,MAAO,CAACR,eADZ,SAEKF,K,iECjBAW,EAAW,WACpB,IAAMC,EAAQC,cACPX,EAAeY,qBAAWrB,GAA1BS,YACP,EAA8BD,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOc,EAAP,KAAiBC,EAAjB,KACAV,qBAAU,WACN,IAAMW,EAAU,uCAAG,sBAAAC,EAAA,sEACThB,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEAC9BI,IAAMC,IAAI,oBAAqB,CACjCC,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAGZD,MAAK,SAAAK,GACFT,EAAYS,EAASC,MACrBrB,GAAW,MACZsB,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAZgB,2CAAlC,uDAcHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAjBD,gCAmBRb,GAnBQ,2CAAH,qDAqBZb,GACAe,IAAaU,OAAM,SAACC,GAChBI,QAAQC,IAAIL,QAGrB,CAAChB,EAAOV,EAAaa,IACxB,IAAMmB,EAAU,uCAAG,sBAAAhB,EAAA,sEACThB,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEAC9BI,IAAMa,KAAK,uBAAwB,GAAI,CACzCX,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAGZM,OAAM,SAACC,GACJhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MATgB,2CAAlC,uDAWHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAdD,2CAAH,qDAiBVQ,EAAc,uCAAG,WAAOC,GAAP,SAAAnB,EAAA,6DACnBc,QAAQC,IAAII,GADO,SAEbH,IAFa,2CAAH,sDAIpB,OAAKhC,EAGDE,EACO,wBAGP,cAAC,IAAD,CAAYkC,cAAevB,EAAUwB,SAAUH,IANxC,cAAC,IAAD,KCpDA,SAASI,IACpB,IAAIC,EAAUC,cACPxC,EAAeY,qBAAWrB,GAA1BS,YACP,EAA0BD,oBAAS,GAAnC,mBAAO0C,EAAP,KAAcC,EAAd,KACMhC,EAAQC,cACdP,qBAAU,WACFJ,EACAA,EAAY2C,mBACPzB,MAAK,SAAC0B,GACGA,EAAcC,OAAOJ,QAAUA,GACjCC,GAAS,MAGhBjB,OAAM,SAACC,GACJhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAGpBgB,GAAS,KAEd,CAAC1C,EAAayC,EAAO/B,IAOxB,OACI,mCACI,eAACoC,EAAA,EAAD,CAAQC,GAAG,QAAQC,OAAO,KAA1B,UACI,eAACC,EAAA,EAAD,WACI,cAAC,gBAAD,CAAeC,GAAG,IAAlB,SACI,cAACJ,EAAA,EAAOK,MAAR,wBAEJ,cAACL,EAAA,EAAOM,OAAR,CAAe,gBAAc,qBAC7B,eAACN,EAAA,EAAOO,SAAR,CAAiBC,GAAG,mBAApB,UACI,eAACC,EAAA,EAAD,CAAKC,UAAU,UAAf,UACI,cAAC,gBAAD,CAAeN,GAAG,QAAlB,SACI,cAACK,EAAA,EAAIE,KAAL,qBAEHhB,EAAS,cAAC,gBAAD,CAAeS,GAAG,SAAlB,SACN,cAACK,EAAA,EAAIE,KAAL,sBACiB,wBAEpBzD,EAAe,cAAC,gBAAD,CAAekD,GAAG,eAAlB,SACZ,cAACK,EAAA,EAAIE,KAAL,4BACiB,2BAEzB,cAACF,EAAA,EAAD,UACKvD,EACG,qCACI,cAAC,gBAAD,CAAekD,GAAI,YAAclD,EAAY0D,IAA7C,SACI,wBAAQF,UAAU,kBAAkB3B,KAAK,SAAzC,uBAEJ,wBAAQ2B,UAAU,uBAAuBG,QAAS,WA/B9EhE,cAAUiE,UAAU1C,MAAK,kBAAMqB,EAAQsB,KAAK,aAgCRhC,KAAK,SADb,yBAIH,cAAC,gBAAD,CAAeqB,GAAG,SAAlB,SACD,wBAAQM,UAAU,uBAAuB3B,KAAK,SAA9C,+BAKhB,cAAC,EAAD,S,qBCpED,SAASiC,IACpB,MAA8B/D,mBAAS,IAAvC,mBAAOgE,EAAP,KAAgBC,EAAhB,KACMtD,EAAQC,cAiBd,OAhBAP,qBAAU,WAAM,4CACZ,sBAAAY,EAAA,sEACUI,IAAMC,IAAI,oBACXH,MAAK,SAAAK,GACFyC,EAAWzC,EAASC,SACrBC,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MANxB,4CADY,uBAAC,WAAD,gCAWZuC,GAAYxC,OAAM,SAACC,GACfI,QAAQC,IAAIL,QAGjB,CAAChB,IAEA,cAAC,WAAD,CACIwD,QAAS,GACTC,QAAS,GACTC,KAAML,I,iECzBZM,EAAUC,cAEHC,EAAa,SAACC,GAAD,OACtB,IAAIC,SAAQ,SAACC,EAASC,GAClBC,YAAeC,YAAIR,EAASG,IACvBtD,KADL,uCACU,WAAOsD,GAAP,SAAAxD,EAAA,sEACII,IAAMC,IAAImD,GACXtD,MAAK,SAAAK,GACFmD,EAAQnD,EAASC,SAClBC,OAAM,SAACC,GACNiD,EAAO,IAAIG,MAAM,eACjBhD,QAAQC,IAAIL,MANlB,2CADV,2D,iBCGO,SAASqD,IACpB,MAA0BhF,mBAAS,IAAnC,mBAAOiF,EAAP,KAAcC,EAAd,KACMvE,EAAQC,cACd,EAA4BZ,mBAAS,UAArC,mBAAOmF,EAAP,KAAeC,EAAf,KACA,EAA8BpF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACOH,EAAeY,qBAAWrB,GAA1BS,YA2BP,GA1BAI,qBAAU,WAAM,4CACZ,sBAAAY,EAAA,sEACUI,IAAMC,IAAI,qBACXH,KADC,+BAAAF,EAAA,MACI,WAAMO,GAAN,mBAAAP,EAAA,oEACiBO,EAASC,MAD1B,aAAAR,EAAA,kCAAAA,EAAA,6DACSoE,EADT,iBAEQb,EAAWa,EAAKC,cAAcnE,MAAK,SAACoE,GACtCF,EAAKE,UAAYA,KAHvB,yQAQFL,EAAS1D,EAASC,KAAK+D,MAAK,SAACvE,EAAGwE,GAC5B,OAAOA,EAAElC,GAAKtC,EAAEsC,OAEpBnD,GAAW,GAXT,gEADJ,uDAaCsB,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAhBxB,2CADY,yBAAC,WAAD,gCAqBZuC,GAAYxC,OAAM,SAACC,GACfI,QAAQC,IAAIL,QAGjB,CAAChB,IACAR,EACA,OAAO,kDAsBX,OACI,eAAC+C,EAAA,EAAD,CAAWO,UAAW,OAAtB,UACI,cAACiC,EAAA,EAAD,CAAKC,GAAI,EAAGlC,UAAW,WAAvB,SACI,eAACmC,EAAA,EAAKC,OAAN,CAAapF,MAAO0E,EAAQ7C,SAvBrB,SAACF,GAChBgD,EAAUhD,EAAM0D,OAAOrF,OACI,WAAvB2B,EAAM0D,OAAOrF,MACbyE,EAASD,EAAMO,MAAK,SAACvE,EAAGwE,GACpB,OAAOA,EAAElC,GAAKtC,EAAEsC,OAEU,aAAvBnB,EAAM0D,OAAOrF,MACpByE,EAASD,EAAMO,MAAK,SAACvE,EAAGwE,GACpB,OAAOA,EAAEM,OAAS9E,EAAE8E,WAEM,aAAvB3D,EAAM0D,OAAOrF,MACpByE,EAASD,EAAMO,MAAK,SAACvE,EAAGwE,GACpB,OAAOxE,EAAEsC,GAAKkC,EAAElC,OAEU,eAAvBnB,EAAM0D,OAAOrF,OACpByE,EAASD,EAAMO,MAAK,SAACvE,EAAGwE,GACpB,OAAOxE,EAAE8E,OAASN,EAAEM,YAOpB,UACI,wBAAQtF,MAAM,SAAd,yCACA,wBAAQA,MAAM,WAAd,yCACA,wBAAQA,MAAM,WAAd,yCACA,wBAAQA,MAAM,aAAd,8CAIJwE,EAAMe,KAAI,SAACX,EAAMY,GAAP,OACN,eAACC,EAAA,EAAD,CAAMzC,UAAW,OAAjB,UACI,eAACyC,EAAA,EAAKC,OAAN,WACI,cAACD,EAAA,EAAKE,MAAN,CAAYC,GAAI,KAAhB,SACKhB,EAAKiB,QAEV,cAAC,aAAD,CAAYC,YAAalB,EAAKU,SAC9B,cAACG,EAAA,EAAKM,SAAN,CAAe/C,UAAU,aAAzB,SACK4B,EAAKoB,QAGNpB,EAAKhB,KAAK2B,KAAI,SAACU,EAAKT,GAAN,OACV,cAACU,EAAA,EAAD,CAAmB3D,GAAG,UAAUS,UAAU,OAA1C,SAAkDiD,GAAtCT,SAIxB,eAACC,EAAA,EAAKU,KAAN,WACI,cAAC,IAASC,SAAV,CAAmBC,OAAQzB,EAAKE,YAC/BtF,EAAe,cAAC,gBAAD,CAAekD,GAAI,SAAWkC,EAAK9B,GAAnC,SACZ,cAACwD,EAAA,EAAD,CAAQtD,UAAU,OAAlB,0BACgB,6BAnBEwC,SCzE3C,IAAMe,EAAO,WAChB,OACI,sBAAKvD,UAAU,6BAAf,UACI,cAACM,EAAD,IACA,cAACiB,EAAD,Q,6CCCG,SAASiC,IACpB,IAAOhH,EAAeY,qBAAWrB,GAA1BS,YACP,EAAwBD,mBAAS,IAAjC,mBAAOyB,EAAP,KAAayF,EAAb,KACMvG,EAAQC,cACV4B,EAAUC,cAuBR0E,EAAY,CACdvD,QAAS,SAACwD,EAAGC,EAAKC,GACd9E,EAAQsB,KAAK,YAAcuD,EAAI1D,OA2BvC,OAvBAtD,qBAAU,WACFJ,EACAA,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEACxBI,IAAMC,IAAI,gBAAiB,CAC7BC,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAGZD,MAAK,SAAAK,GACF0F,EAAQ1F,EAASC,SAClBC,OAAM,SAACC,GACNhB,EAAMiB,KAAK,wBAAyB,CAACC,QAAS,IAAMC,KAAM,UAC1DC,QAAQC,IAAIL,MAXU,2CAAlC,uDAaGD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAGhBhB,EAAMiB,KAAK,uBAAwB,CAACC,QAAS,IAAMC,KAAM,YAE9D,CAACnB,EAAOV,IAEP,qBAAKwD,UAAU,iBAAf,SACI,cAAC,IAAD,CACI8D,SAAO,EACPC,OAAK,EACLC,SAAS,KACThG,KAAMA,EACNiG,QA1DI,CACZ,CACIC,UAAW,MACXC,KAAM,KACNpC,MAAM,GAEV,CACImC,UAAW,WACXC,KAAM,OACNpC,MAAM,GAEV,CACImC,UAAW,QACXC,KAAM,QACNpC,MAAM,GAEV,CACImC,UAAW,WACXC,KAAM,WACNpC,MAAM,IAwCF2B,UAAWA,EACXU,WAAYC,IAAkB,CAACC,YAAa,EAAGC,iBAAiB,QCtEzE,IAAMC,EAAQ,kBACjB,cAAC/E,EAAA,EAAD,UACI,cAAC+D,EAAD,OCJKiB,EAAiB,IAAIC,IACrBC,EAAmB,IAAIC,IACvBC,EAAiB,IAAIC,ICK5B5I,GAAOC,YAAQC,GACR2I,GAAQ,WACjB,IAAM7H,EAAQC,cACPX,EAAeY,qBAAWrB,GAA1BS,YACDwI,EAAa,uCAAG,WAAOC,GAAP,SAAAzH,EAAA,sEACZ0H,YAAgBhJ,GAAM+I,GADV,uBAEZ/I,GAAKM,YAAYiB,YAAW,GAAMC,MAAK,SAACC,GAC1CC,IAAMa,KAAK,cAAe,GAAI,CAC1BX,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAEdM,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,SAEjBD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAdE,2CAAH,sDAkBnB,OAAI1B,EACO,cAAC,IAAD,CAAUkD,GAAG,MAGpB,sBAAKM,UAAU,kCAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,qBAAKA,UAAU,+CACVG,QAAS,kBAAM6E,EAAcP,IADlC,oCAIJ,qBAAKzE,UAAU,sBAAf,SACI,qBAAKA,UAAU,iDACVG,QAAS,kBAAM6E,EAAcL,IADlC,sCAIJ,qBAAK3E,UAAU,sBAAf,SACI,qBAAKA,UAAU,+CACVG,QAAS,kBAAM6E,EAAcH,IADlC,wC,kDCnCD,SAASM,GAAWjF,GAC/B,IAAInB,EAAUC,cACPxC,EAAeY,qBAAWrB,GAA1BS,YACP,EAAwBD,mBAAS,IAAjC,mBAAOyB,EAAP,KAAayF,EAAb,KACMvG,EAAQC,cACd,EAAoCZ,oBAAS,GAA7C,mBAAO6I,EAAP,KAAmBC,EAAnB,KACMpB,EAAU,CACZ,CACIC,UAAW,KACXC,KAAM,UACNpC,MAAM,GAEV,CACImC,UAAW,QACXC,KAAM,QACNpC,MAAM,EACNuD,OAAQC,yBAEZ,CACIrB,UAAW,QACXC,KAAM,QACNpC,MAAM,EACNuD,OAAQC,0BAGhB3I,qBAAU,WAAM,4CACZ,sBAAAY,EAAA,sEACUhB,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEAC9BI,IAAMC,IAAI,qBAAsB,CAClCC,QAAS,CACL,eAAgB,mBAChBH,QAASA,GAEb6H,OAAQ,CACJtF,IAAKA,EAAIA,OAGZxC,MAAK,SAAAK,GACF0F,EAAQ1F,EAASC,SAClBC,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAdgB,2CAAlC,uDAgBHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAnBpB,2CADY,yBAAC,WAAD,gCAwBZuC,GAAYxC,OAAM,SAACC,GACfI,QAAQC,IAAIL,QAGjB,CAACgC,EAAKhD,EAAOV,IAEhB,IAAMiJ,EAAY,CACdC,SAAU,SAAA9B,GAAG,OACT,gCACI,cAACN,EAAA,EAAD,CAAQtD,UAAW,OAAQG,QAAS,kBAAMpB,EAAQsB,KAAK,SAAWuD,EAAI9D,GAAK,UAA3E,kBACA,cAACwD,EAAA,EAAD,CAAQtD,UAAW,OAAQG,QAAS,kBAAMpB,EAAQsB,KAAK,SAAWuD,EAAI9D,KAAtE,kBACA,cAACwD,EAAA,EAAD,CAAQqC,QAAQ,SAAS3F,UAAW,OAAQG,QAAS,kBAAIkF,GAAc,IAAvE,oBACA,eAACO,GAAA,EAAD,CAAOzH,KAAMiH,EAAYS,OAAQ,kBAAMR,GAAc,IAArD,UACI,cAACO,GAAA,EAAMlD,OAAP,CAAcoD,aAAW,EAAzB,SACI,cAACF,GAAA,EAAMjD,MAAP,4BAEJ,cAACiD,GAAA,EAAMzC,KAAP,wDACA,eAACyC,GAAA,EAAMG,OAAP,WACI,cAACzC,EAAA,EAAD,CAAQqC,QAAQ,YAAYxF,QAAS,kBAAMkF,GAAc,IAAzD,mBAGA,cAAC/B,EAAA,EAAD,CAAQqC,QAAQ,SAASxF,QAAS,kBAAMkF,GAAc,IAAtD,+BAQpB,OACI,8BACOrH,EAAKgI,OACH,qBAAKhG,UAAU,iBAAf,SACG,cAAC,IAAD,CACI8D,SAAO,EACPC,OAAK,EACLC,SAAS,KACThG,KAAMA,EACNiG,QAASA,EAETqB,OAAQW,OACRR,UAAWA,EACXrB,WAAYC,IAAkB,CAACC,YAAa,EAAGC,iBAAiB,QAEtE,0BCjGH,SAAS2B,KACpB,IAAO1J,EAAeY,qBAAWrB,GAA1BS,YACP,EAAsCD,mBAAS,IAA/C,mBAAO4J,EAAP,KAAoBC,EAApB,KACOlG,EAAOmG,cAAPnG,IACDhD,EAAQC,cA8Bd,OA7BAP,qBAAU,WAAM,4CACZ,sBAAAY,EAAA,sEACUhB,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEAC9BI,IAAMC,IAAI,oBAAqB,CACjCC,QAAS,CACL,eAAgB,mBAChBH,QAASA,GAEb6H,OAAQ,CACJtF,IAAKA,KAGRxC,MAAK,SAAAK,GACFqI,EAAerI,EAASC,SACzBC,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAdgB,2CAAlC,uDAgBHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAnBpB,2CADY,yBAAC,WAAD,gCAwBZuC,GAAYxC,OAAM,SAACC,GACfI,QAAQC,IAAIL,QAGjB,CAACgC,EAAK1D,EAAaU,IACjBiJ,EAID,eAAC1G,EAAA,EAAD,CAAWO,UAAW,OAAtB,UACI,eAACyC,EAAA,EAAD,WACI,cAACA,EAAA,EAAKC,OAAN,UACI,cAACD,EAAA,EAAKE,MAAN,CAAYC,GAAI,KAAhB,SACKuD,EAAYG,aAGrB,cAAC7D,EAAA,EAAKU,KAAN,UACI,eAACoD,GAAA,EAAD,CAAWZ,QAAQ,QAAnB,UACI,eAACY,GAAA,EAAUC,KAAX,CAAgB5D,GAAI,KAApB,sCAAoDuD,EAAYM,gBAChE,eAACF,GAAA,EAAUC,KAAX,CAAgB5D,GAAI,KAApB,qCAAmDuD,EAAYO,uBAI1EP,EAAYjG,IAAO,cAACiF,GAAD,CAAYjF,IAAKiG,EAAYjG,MAAU,qDAjBxD,+C,sBCxCTyG,GAAY,CACdC,KAAM,EACNC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,QAAS,OACTC,YAAa,EACbC,aAAc,EACdC,YAAa,UACbC,YAAa,SACbC,gBAAiB,UACjBC,MAAO,UACPC,QAAS,OACTC,WAAY,2BAGVC,GAAc,CAChBN,YAAa,WAGXO,GAAc,CAChBP,YAAa,WAGXQ,GAAc,CAChBR,YAAa,WAEF,SAASS,GAAT,GAAiC,IAAbC,EAAY,EAAZA,UAa/B,MAEIC,aAAY,CACZC,SAAU,EACVC,UAfJ,SAAuBC,GAEnB,MADwB,CAAC,YAAa,aAAc,YAAa,aAC5CC,SAASD,EAAI,MAM3B,KALI,CACHE,KAAM,aACNC,QAAQ,kBAOhBC,EADJ,EACIA,cAAeC,EADnB,EACmBA,eAAgBC,EADnC,EACmCA,aAAcC,EADjD,EACiDA,cAAeC,EADhE,EACgEA,aAAcC,EAD9E,EAC8EA,aAAcC,EAD5F,EAC4FA,aAKtFC,EAAWP,EAAc9F,KAAI,SAAA0F,GAAI,OACnC,+BACKA,EAAKY,KADV,MACmBZ,EAAKa,KADxB,WAASb,EAAKY,SAIZE,EAAWT,EAAe/F,KAAI,YAAqB,IAAnB0F,EAAkB,EAAlBA,KAAMe,EAAY,EAAZA,OACxC,OACI,+BACKf,EAAKY,KADV,MACmBZ,EAAKa,KADxB,SAEI,6BACKE,EAAOzG,KAAI,SAAAoB,GAAC,OAAI,6BAAkBA,EAAEyE,SAAXzE,EAAEwE,aAH3BF,EAAKY,SAShBI,EAAQC,mBAAQ,+BAAC,0CAChBvC,IACC8B,EAAehB,GAAc,IAC7BiB,EAAehB,GAAc,IAC7BiB,EAAehB,GAAc,MACjC,CACAc,EACAE,EACAD,IAQJ,OAJA9L,qBAAU,WACNiL,EAAUQ,KACX,CAACR,EAAWQ,IAGX,0BAASrI,UAAU,iBAAnB,UACI,4CACA,kDAASuI,EAAa,CAACU,WAAvB,cACI,sCAAWT,MACX,wFACA,iGAEJ,wBAAOxI,UAAU,OAAjB,UACI,gDACA,6BAAK4I,IACL,gDACA,6BAAKG,UC1FN,SAASI,GAAT,GAAwC,IAAhBC,EAAe,EAAfA,aACnC,EAAkC7M,mBAAS,sBAA3C,mBAAOuF,EAAP,KAAkBuH,EAAlB,KAIA,OAHAzM,qBAAU,WACNwM,EAAatH,KACd,CAACsH,EAActH,IAEd,sBAAK9B,UAAU,iBAAf,UACI,+CACA,cAAC,IAAD,CACIhD,MAAO8E,EACPjD,SAAUwK,O,wBCHpBnN,I,cAAOC,YAAQC,IAEN,SAASkN,GAAT,GAAkD,IAA/BC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,QAClD,EAA0BlN,mBAAS,IAAnC,mBAAOsG,EAAP,KAAc6G,EAAd,KACA,EAA0BnN,mBAAS,IAAnC,mBAAOyG,EAAP,KAAc2G,EAAd,KACA,EAA8CpN,mBAAS,IAAvD,mBAAOqN,EAAP,KAAwBC,EAAxB,KACA,EAAoCtN,mBAAS,IAA7C,mBAAOuN,EAAP,KAAmBC,EAAnB,KACA,EAAwCxN,mBAAS,IAAjD,mBAAOyN,EAAP,KAAqBC,EAArB,KACM/M,EAAQC,cACdP,qBAAU,WACN2M,EAAS1G,KACV,CAAC0G,EAAU1G,IACdjG,qBAAU,WACN4M,EAASxG,KACV,CAACA,EAAOwG,IACX5M,qBAAU,WACN6M,EAAQG,KACT,CAACH,EAASG,IACbhN,qBAAU,WAAM,4CACZ,sBAAAY,EAAA,sEACUtB,GAAKM,YAAYiB,YAAW,GAAMC,KAAlC,+BAAAF,EAAA,MAAuC,WAAOG,GAAP,SAAAH,EAAA,sEACnCI,IAAMC,IAAI,uBAAwB,CACpCC,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAGZD,MAAK,SAAAK,GACFgM,EAAchM,EAASC,SACxBC,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAXqB,uBAanCN,IAAMC,IAAI,qBAAsB,CAClCC,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAGZD,MAAK,SAAAK,GACFkM,EAAgBlM,EAASC,MACzB2L,EAAS5L,EAASC,KAAK,OACxBC,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAxBqB,2CAAvC,uDA0BHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MA7BpB,2CADY,yBAAC,WAAD,gCAkCZuC,GAAYxC,OAAM,SAACC,GACfI,QAAQC,IAAIL,QAGjB,CAAChB,IACJ,IAAMkF,EAAS,SAAC,GAAgC,IAA/BpF,EAA8B,EAA9BA,MAAOkN,EAAuB,EAAvBA,QAASrL,EAAc,EAAdA,SAC7B,OACI,cAACsD,EAAA,EAAKC,OAAN,CAAa+H,UAAQ,EAACnN,MAAOA,EAAO6B,SAAUA,EAA9C,SACKqL,EAAQ3H,KAAI,SAAA6H,GACT,OAAQ,wBAAqBpN,MAAOoN,EAA5B,SAAqCA,GAAxBA,SAKrC,OACI,eAACC,GAAA,EAAD,CAAOC,IAAK,EAAGtK,UAAU,yBAAzB,UACI,eAACmC,EAAA,EAAKoI,MAAN,WACI,cAACpI,EAAA,EAAKqI,MAAN,CAAY5H,GAAI,KAAhB,0BACA,cAACT,EAAA,EAAKsI,QAAN,CAAcN,UAAQ,EACR9L,KAAK,OACLqM,YAAY,oBACZ1N,MAAO6F,EACPhE,SAAU,SAAAF,GACN+K,EAAS/K,EAAM0D,OAAOrF,UAGxC,cAACmF,EAAA,EAAKsI,QAAQE,SAAd,CAAuBtM,KAAK,UAA5B,uCAIJ,eAAC8D,EAAA,EAAKoI,MAAN,WACI,cAACpI,EAAA,EAAKqI,MAAN,CAAY5H,GAAI,KAAhB,yBACA,cAACR,EAAD,CAAQpF,MAAOgG,EAAOkH,QAASF,EAAcnL,SAAU,SAAAF,GACnDgL,EAAShL,EAAM0D,OAAOrF,UAE1B,cAACmF,EAAA,EAAKsI,QAAQE,SAAd,CAAuBtM,KAAK,UAA5B,uCAEJ,eAAC8D,EAAA,EAAKoI,MAAN,WACI,cAACpI,EAAA,EAAKqI,MAAN,CAAY5H,GAAI,KAAhB,yBACA,cAAC,KAAD,CACIgI,aAAW,EACXC,UAAQ,EACR/K,GAAG,OACHgL,SAAS,OACTC,UAAQ,EACRlM,SAAUgL,EACVK,QAASJ,EACTY,YAAY,iBACZM,SAAUpB,U,iCC3Gf,SAASqB,GAAT,GAAkC,IAAbC,EAAY,EAAZA,UAChC,EAA8B3O,mBAAS,CACnC,CAAC4O,OAAQ,MADb,mBAAOC,EAAP,KAAgBC,EAAhB,KAGAzO,qBAAU,WACNsO,EAAUE,KACX,CAACF,EAAWE,IACf,IAAME,EAAkB,WACpB,IAAMC,EAAM,aAAOH,GACfG,EAAOvF,OAAS,IAChBuF,EAAOlL,KAAK,CAAC8K,OAAQ,KACrBE,EAAWE,KAGbC,EAAqB,SAAAhJ,GACvB,IAAM+I,EAAM,aAAOH,GACfG,EAAOvF,OAAS,IAChBuF,EAAOE,OAAOjJ,EAAO,GACrB6I,EAAWE,KAGbG,EAAoB,SAAClJ,EAAO7D,GAC9B,IAAM4M,EAAM,aAAOH,GACnBG,EAAO/I,GAAO2I,OAASxM,EAAM0D,OAAOrF,MACpCqO,EAAWE,IAEf,OACI,eAACpJ,EAAA,EAAKoI,MAAN,CAAYvK,UAAU,iBAAtB,UACI,cAACmC,EAAA,EAAKqI,MAAN,UAAY,+CACXY,EAAQ7I,KAAI,SAAC6I,EAAS5I,GAAV,OACT,cAAC,WAAD,UACI,eAACmJ,GAAA,EAAD,CAAK3L,UAAU,OAAf,UACI,eAACiC,EAAA,EAAD,CAAKC,GAAI,GAAT,UACI,cAACC,EAAA,EAAKsI,QAAN,CACIN,UAAQ,EACR9L,KAAK,OACLqM,YAAY,SACZ1N,MAAOoO,EAAQD,OACftM,SAAU,SAAAF,GAAK,OAAI+M,EAAkBlJ,EAAO7D,MAEhD,cAACwD,EAAA,EAAKsI,QAAQE,SAAd,CAAuBtM,KAAK,UAA5B,qCAIJ,cAAC4D,EAAA,EAAD,CAAKC,GAAI,EAAT,SACI,eAAC0J,GAAA,EAAD,WACI,cAACtI,EAAA,EAAD,CACIqC,QAAQ,YACRxF,QAAS,kBAAMqL,EAAmBhJ,IAFtC,eAKA,cAACc,EAAA,EAAD,CACIqC,QAAQ,YACRxF,QAAS,kBAAMmL,KAFnB,wBArBhB,UAAkBF,EAAlB,YAA6B5I,UCrB7C,IAAM3B,GAAUC,cACH+K,GAAe,SAAC,GAAuB,IAAD,IAArBC,YAAqB,MAAd,SAAc,EAC3C/M,EAAUC,cACR+M,GAAO,IAAIC,MAAOC,UACjBzP,EAAeY,qBAAWrB,GAA1BS,YACP,EAA0BD,mBAAS,IAAnC,mBAAOsG,EAAP,KAAc6G,EAAd,KACA,EAA0BnN,mBAAS,IAAnC,mBAAOyG,EAAP,KAAc2G,EAAd,KACA,EAAwBpN,mBAAS,MAAjC,mBAAOqE,EAAP,KAAasL,EAAb,KACA,EAAkC3P,mBAAS,MAA3C,mBAAOuF,EAAP,KAAkBuH,EAAlB,KACA,EAA4B9M,mBAAS,MAArC,mBAAO4P,EAAP,KAAeC,EAAf,KACA,EAA4B7P,mBAAS,IAArC,mBAAO4O,EAAP,KAAekB,EAAf,KACA,EAAkC9P,oBAAS,GAA3C,mBAAO+P,EAAP,KAAkBC,EAAlB,KACMrP,EAAQC,cACRoM,EAAWiD,uBAAY,SAAC3J,GAC1B6G,EAAS7G,KACV,IACG2G,EAAWgD,uBAAY,SAACxJ,GAC1B2G,EAAS3G,KACV,IACGyG,EAAU+C,uBAAY,SAAC5L,GACzBsL,EAAQtL,KACT,IACGwI,EAAeoD,uBAAY,SAAC1K,GAC9BuH,EAAavH,KACd,IACGoJ,EAAYsB,uBAAY,SAACrB,GAC3BkB,EAAUlB,KACX,IACGtD,EAAY2E,uBAAY,SAACL,GAC3BC,EAAUD,KACX,IACGM,GAAc,SAACpO,EAAM4J,GAAP,OAChB,IAAIhH,SAAQ,SAACC,EAASC,GAClB,IAAMuL,EAAYrL,YAAIR,GAAD,WAAcrE,EAAY0D,IAA1B,YAAiC7B,EAAjC,YAAyC4J,EAAK0E,OAC7DC,EAAaC,YAAqBH,EAAWzE,GAG7C6E,EAAY3L,EAMlByL,EAAWG,GAAG,iBARO,cAQwBD,GALvB,WAClB1L,YAAewL,EAAWI,SAAS3L,KAC9B3D,KAAKwD,GACLjD,MAAMkD,UAxCwB,SA6ChC8L,KA7CgC,8EA6C/C,4CAAAzP,EAAA,sDACU0P,EAAa,GACfC,EAAe,KACbC,EAAU,GACVC,EAAa,GAJvB,cAKwBlB,GALxB,gEAKemB,EALf,kBAMcb,GAAY,SAAUa,GAAO5P,MAAK,SAACsD,GACrCkM,EAAW7M,KAAKW,MAP5B,sJAUUiH,EAAO,IAAIsF,KAAK,CAACzL,GAAV,UAAyBiK,EAAzB,OAAoC,CAC7C1N,KAAM,kBAXd,UAaUoO,GAAY,aAAcxE,GAAMvK,MAAK,SAACsD,GACxCmM,EAAenM,KAdvB,eAgBIJ,EAAK4M,SAAQ,SAAAC,GACLA,EAAIC,UACJN,EAAQ/M,KAAKoN,GAEbL,EAAQ/M,KAAKoN,EAAId,SAGzBxB,EAAOqC,SAAQ,SAAAC,GACXJ,EAAWhN,KAAKoN,EAAItC,WAElBwC,EAAU,CACZ9K,MAAOA,EACPG,MAAOA,EACPpC,KAAMwM,EACNvL,aAAcsL,EACdhB,OAAQe,EACR9B,QAASiC,GAEb/O,QAAQC,IAAIoP,GAlChB,UAmCUnR,EAAYiB,YAAW,GAAMC,MAAK,SAACC,GACrCC,IAAMa,KAAK,eAAgBkP,EAAS,CAChC7P,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAEdD,MAAK,WACJqB,EAAQsB,KAAK,SACbnD,EAAMiB,KAAK,wBAAyB,CAACC,QAAS,IAAMC,KAAM,eAC3DJ,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,SAEjBD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAlDpB,iEA7C+C,sBAmG/C,IAAM0P,GAAY,uCAAG,WAAOjP,GAAP,eAAAnB,EAAA,yDACXqQ,EAAOlP,EAAMmP,cACnBnP,EAAMoP,kBACuB,IAAzBF,EAAKG,gBAHQ,gBAIbzB,GAAa,GACb5N,EAAMsP,kBALO,sCAOPhB,KAPO,2CAAH,sDAUZiB,GAAU,uCAAG,WAAOvP,GAAP,SAAAnB,EAAA,sDACfmB,EAAMoP,iBACN7Q,EAAMiB,KAAK,OAAQ,CAACC,QAAS,IAAMC,KAAM,SAF1B,2CAAH,sDAIhB,OACI,eAAC8D,EAAA,EAAD,CAAMnC,UAAU,wBAAwBmO,YAAU,EAAC7B,UAAWA,EACxD8B,SAAmB,WAATtC,EAAoB8B,GAAeM,GADnD,UAEI,oBAAIlO,UAAW,cAAf,SAAwC,WAAT8L,EAAqB,kBAAsB,cAC1E,cAAC,GAAD,CAAUvC,SAAUA,EACVC,SAAUA,EACVC,QAASA,IACnB,cAACN,GAAD,CAAeC,aAAcA,IAC7B,cAAC6B,GAAD,CAAYC,UAAWA,IACvB,cAACtD,GAAD,CAAWC,UAAWA,IACtB,qBAAK7H,UAAU,eAAf,SACI,cAACsD,EAAA,EAAD,CAAQqC,QAAQ,UAAUmD,KAAK,KAAKzK,KAAK,SAAzC,SAA4D,WAATyN,EAAqB,SAAa,e,oBClItF,SAASuC,GAAT,GAAkE,IAAtCC,EAAqC,EAArCA,OAAQlD,EAA6B,EAA7BA,QAASmD,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,UACzDhS,EAAeY,qBAAWrB,GAA1BS,YACP,EAA4BD,mBAAS,IAArC,mBAAO4O,EAAP,KAAekB,EAAf,KAEMnP,EAAQC,cAERsR,EAAU,uCAAG,sBAAAjR,EAAA,sEACThB,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEAC9BI,IAAMa,KAAK,sBAAuB6P,EAAQ,CAC5CxQ,QAAS,CACL,eAAgB,mBAChBH,QAASA,KAGZM,OAAM,SAACC,GACJhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MATgB,2CAAlC,uDAWHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAdD,2CAAH,qDAiBV0P,EAAY,uCAAG,WAAOjP,GAAP,SAAAnB,EAAA,yDACjBmB,EAAMoP,kBACFQ,EAFa,gBAGbrR,EAAMiB,KAAK,oCAAqC,CAACC,QAAS,IAAMC,KAAM,SAHzD,2BAKT+M,EAAQlD,SAASiD,GALR,wBAMTjO,EAAMiB,KAAK,kBAAmB,CAACC,QAAS,IAAMC,KAAM,YAN3C,SAOHoQ,IAPG,OAQTD,GAAU,GARD,wBAUTtR,EAAMiB,KAAK,gBAAiB,CAACC,QAAS,IAAMC,KAAM,UAVzC,4CAAH,sDAclB,OACI,eAAC8D,EAAA,EAAD,CAAMnC,UAAU,mBAAmBoO,SAAUR,EAA7C,UACI,eAACzL,EAAA,EAAKoI,MAAN,WACI,cAACpI,EAAA,EAAKqI,MAAN,CAAY5H,GAAI,KAAhB,0BACA,cAACT,EAAA,EAAKsI,QAAN,CAAczK,UAAU,OACVmK,UAAQ,EACR9L,KAAK,OACLqM,YAAY,uBACZ1N,MAAOmO,EACPtM,SAAU,SAAAF,GACN0N,EAAU1N,EAAM0D,OAAOrF,aAI7C,cAACsG,EAAA,EAAD,CAAQtD,UAAU,YAAY2F,QAAQ,UAAUmD,KAAK,KAAKzK,KAAK,SAA/D,sBC/CG,SAASqQ,GAAT,GAAgC,IAAD,IAAhB5C,YAAgB,MAAT,OAAS,EAC1C,EAA4BvP,mBAAS,GAArC,mBAAO+F,EAAP,KAAeqM,EAAf,KACA,EAAoCpS,oBAAS,GAA7C,mBAAOqS,EAAP,KAAmBC,EAAnB,KACOrS,EAAeY,qBAAWrB,GAA1BS,YACP,EAAgCD,mBAAS,IAAzC,mBAAOuS,EAAP,KAAiBC,EAAjB,KACA,EAAkCxS,mBAAS,IAA3C,mBAAOuF,EAAP,KAAkBuH,EAAlB,KACA,EAA4B9M,mBAAS,IAArC,mBAAO4P,EAAP,KAAeC,EAAf,KACA,EAAwB7P,mBAAS,IAAjC,mBAAOqE,EAAP,KAAasL,EAAb,KACOoC,EAAUjI,cAAViI,OACDpR,EAAQC,cACd,EAA4BZ,oBAAS,GAArC,mBAAOgS,EAAP,KAAeS,EAAf,KACMR,EAAYhC,uBAAY,SAAC+B,GAC3BS,EAAUT,KACX,IAbuC,SAkF3BU,EAlF2B,8EAkF1C,WAAyBC,GAAzB,SAAA1R,EAAA,sEACUhB,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEAC9BI,IAAMa,KAAK,kBAAmB,GAAI,CACpCX,QAAS,CACL,eAAgB,mBAChBH,QAASA,GAEb6H,OAAQ,CACJ8I,OAAQA,EACRhM,OAAQ4M,KAGXjR,OAAM,SAACC,GACJhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MAbgB,2CAAlC,uDAeHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAlBpB,2CAlF0C,wBAc1CtB,qBAAU,WAAM,4CACZ,sBAAAY,EAAA,sEACUhB,EAAYiB,YAAW,GAAMC,KAA7B,uCAAkC,WAAOC,GAAP,SAAAH,EAAA,sEAC9BI,IAAMC,IAAI,gBAAiB,CAC7BC,QAAS,CACL,eAAgB,mBAChBH,QAASA,GAEb6H,OAAQ,CACJ8I,OAAQA,KAGX5Q,KATC,+BAAAF,EAAA,MASI,WAAMO,GAAN,SAAAP,EAAA,sEACIuD,EAAWhD,EAASC,KAAK6D,cAAcnE,MAAK,SAACoE,GAC/CuH,EAAavH,MAFf,OAIFiN,EAAYhR,EAASC,MACrBkO,EAAQnO,EAASC,KAAK4C,MACtBwL,EAAUrO,EAASC,KAAKmO,QACxBwC,EAAU5Q,EAASC,KAAKsE,QAPtB,2CATJ,uDAiBCrE,OAAM,SAACC,GACNhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MApBgB,uBAsB9BN,IAAMC,IAAI,wBAAyB,CACrCC,QAAS,CACL,eAAgB,mBAChBH,QAASA,GAEb6H,OAAQ,CACJ8I,OAAQA,KAGX5Q,MAAK,SAACK,GACHiR,EAAUjR,EAASC,SAEtBC,OAAM,SAACC,GACJhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MApCgB,uBAsC9BN,IAAMC,IAAI,uBAAwB,CACpCC,QAAS,CACL,eAAgB,mBAChBH,QAASA,GAEb6H,OAAQ,CACJ8I,OAAQA,KAGX5Q,MAAK,SAACK,GACH8Q,EAAc9Q,EAASC,SAE1BC,OAAM,SAACC,GACJhB,EAAMiB,KAAK,aAAc,CAACC,QAAS,IAAMC,KAAM,UAC/CC,QAAQC,IAAIL,MApDgB,2CAAlC,uDAsDHD,OAAM,SAACC,GACNhB,EAAMiB,KAAK,YAAa,CAACC,QAAS,IAAMC,KAAM,UAC9CC,QAAQC,IAAIL,MAzDpB,2CADY,yBAAC,WAAD,gCA8DZuC,GAAYxC,OAAM,SAACC,GACfI,QAAQC,IAAIL,QAGjB,CAAChB,EAAOV,EAAa8R,IAwBxB,IAAMa,EAAY,uCAAG,WAAOD,GAAP,SAAA1R,EAAA,yDACZoR,EADY,uBAEbD,EAAUO,GACVL,GAAc,GAHD,SAIPI,EAAUC,GAJH,6BAMbhS,EAAMiB,KAAK,gCAAiC,CAACC,QAAS,IAAMC,KAAM,UANrD,2CAAH,sDASlB,OACI,cAACoB,EAAA,EAAD,CAAWO,UAAU,4BAArB,SACI,eAACyC,EAAA,EAAD,WACI,eAACA,EAAA,EAAKC,OAAN,WACI,cAACD,EAAA,EAAKE,MAAN,CAAYC,GAAI,KAAhB,SACKkM,EAASjM,QAEX+L,GAAuB,SAAT9C,EACb,cAAC,aAAD,CAAYhJ,YAAaR,IADQ,cAAC,SAAD,CAAQnC,QAASgP,EAAcrM,YAAaR,IAEjF,cAACG,EAAA,EAAKM,SAAN,CAAe/C,UAAU,aAAzB,SACK8O,EAAS9L,QAGVpC,EAAK2B,KAAI,SAACU,EAAKT,GAAN,OACL,cAACU,EAAA,EAAD,CAAmB3D,GAAG,UAAUS,UAAU,OAA1C,SAAkDiD,GAAtCT,SAKxB,cAACC,EAAA,EAAKU,KAAN,UACI,eAACoD,GAAA,EAAD,CAAWvG,UAAU,mBAArB,UACI,cAACoP,GAAA,EAAD,UAAe,cAAC,IAAShM,SAAV,CAAmBC,OAAQvB,MAC1C,cAACsN,GAAA,EAAD,UACI,cAACzD,GAAA,EAAD,UACKQ,EAAO5J,KAAI,SAAC+K,EAAO9K,GAAR,OACR,cAACP,EAAA,EAAD,UACI,cAACoN,GAAA,EAAD,CAAOC,IAAKhC,EAAOiC,SAAO,EAACC,MAAO,SAD5BhN,eAQpB,SAATsJ,EACG,gCACI,0CACGgD,EAAS1D,QAAU0D,EAAS1D,QAAQ7I,KAAI,SAAC4I,EAAQ3I,GAAT,OACvC,8BAAkB2I,GAAR3I,MACV,2BAIP,cAAC6L,GAAD,CAAmBC,OAAQQ,EAAShP,GAAIsL,QAAS0D,EAAS1D,QAASmD,OAAQA,EACtCC,UAAWA,S,8BCpJtDiB,GAfM,SAAC,GAA4C,IAA/BC,EAA8B,EAAzCC,UAA8BC,EAAW,mBACtDpT,EAAeY,qBAAWrB,GAA1BS,YACP,OACI,cAAC,IAAD,6BACQoT,GADR,IAEIC,OAAQ,SAAAC,GAAU,OACZtT,EACE,cAACkT,EAAD,gBAAoBI,IAEpB,cAAC,IAAD,CAAUpQ,GAAI,gBCRnB,SAASqQ,KAEpB,OACI,cAACtQ,EAAA,EAAD,UACI,eAACkM,GAAA,EAAD,WACI,cAAC1J,EAAA,EAAD,UACI,cAACyM,GAAD,CAAM5C,KAAK,WAEf,cAAC7J,EAAA,EAAD,UACI,cAAC,GAAD,CAAc6J,KAAK,gBCmBxBkE,OApBf,WACI,OACI,cAAC,EAAD,UACI,eAAC,aAAD,WACI,cAAClR,EAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOmR,OAAK,EAACpH,KAAK,QAAQ8G,UAAWpM,IACrC,cAAC,IAAD,CAAO0M,OAAK,EAACpH,KAAK,IAAI8G,UAAWpM,IACjC,cAAC,GAAD,CAAc0M,OAAK,EAACpH,KAAK,SAAS8G,UAAWnL,IAC7C,cAAC,IAAD,CAAOyL,OAAK,EAACpH,KAAK,SAAS8G,UAAW5K,KACtC,cAAC,GAAD,CAAckL,OAAK,EAACpH,KAAK,eAAe8G,UAAW9D,KACnD,cAAC,IAAD,CAAOoE,OAAK,EAACpH,KAAK,gBAAgB8G,UAAWzJ,KAC7C,cAAC,IAAD,CAAO+J,OAAK,EAACpH,KAAK,gBAAgB8G,UAAWjB,KAC7C,cAAC,IAAD,CAAOuB,OAAK,EAACpH,KAAK,qBAAqB8G,UAAWI,cCdvDG,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB1S,MAAK,YAAkD,IAA/C2S,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCEdO,IAASb,OACL,cAAC,IAAD,CAAec,SAAUC,KAAzB,SACA,eAAC,aAAD,WACI,cAAC,GAAD,IADJ,SAIAC,SAASC,eAAe,SAG5BZ,O","file":"static/js/main.e768c20e.chunk.js","sourcesContent":["import {initializeApp} from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAZCTYk0aTKjj0d8ihntd_GuzdodUT4RVQ\",\r\n    authDomain: \"poised-cathode-325720.firebaseapp.com\",\r\n    projectId: \"poised-cathode-325720\",\r\n    storageBucket: \"poised-cathode-325720.appspot.com\",\r\n    messagingSenderId: \"286350985232\",\r\n    appId: \"1:286350985232:web:bbd8c1efc44e336bd06295\",\r\n    measurementId: \"G-LHMQMJVMPJ\"\r\n};\r\n\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\nexport default firebaseApp;","import React, {useEffect, useState} from \"react\";\r\nimport {getAuth} from \"firebase/auth\";\r\nimport firebase from \"../config/FirebaseConfig\";\r\n\r\nexport const AuthContext = React.createContext();\r\nconst auth = getAuth(firebase);\r\nexport const AuthProvider = ({children}) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [pending, setPending] = useState(true);\r\n\r\n    useEffect(() => {\r\n        auth.onAuthStateChanged((user) => {\r\n            setCurrentUser(user)\r\n            setPending(false)\r\n        });\r\n    }, []);\r\n\r\n    if (pending) {\r\n        return <>Loading...</>\r\n    }\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{currentUser}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};","import React, {useContext, useEffect, useState} from 'react';\r\nimport Darkreader from 'react-darkreader';\r\nimport axios from \"axios\";\r\nimport {AuthContext} from \"./service/Auth\";\r\nimport {useAlert} from \"react-alert\";\r\n\r\nexport const DarkMode = () => {\r\n    const alert = useAlert();\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [pending, setPending] = useState(true);\r\n    const [darkMode, setDarkMode] = useState(false);\r\n    useEffect(() => {\r\n        const isDarkMode = async () => {\r\n            await currentUser.getIdToken(true).then(async (idToken) => {\r\n                await axios.get(\"/auth/getDarkMode\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    }\r\n                })\r\n                    .then(response => {\r\n                        setDarkMode(response.data);\r\n                        setPending(false);\r\n                    }).catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n            }).catch((error) => {\r\n                alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n            return darkMode;\r\n        };\r\n        if (currentUser) {\r\n            isDarkMode().catch((error) => {\r\n                console.log(error);\r\n            });\r\n        }\r\n    }, [alert, currentUser, darkMode]);\r\n    const changeMode = async () => {\r\n        await currentUser.getIdToken(true).then(async (idToken) => {\r\n            await axios.post(\"/auth/changeDarkMode\", [], {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    idToken: idToken,\r\n                }\r\n            })\r\n                .catch((error) => {\r\n                    alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                    console.log(error);\r\n                });\r\n        }).catch((error) => {\r\n            alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n            console.log(error)\r\n        });\r\n    }\r\n    const handleDarkMode = async (event) => {\r\n        console.log(event)\r\n        await changeMode();\r\n    }\r\n    if (!currentUser) {\r\n        return <Darkreader/>\r\n    }\r\n    if (pending) {\r\n        return <div/>\r\n    }\r\n    return (\r\n        <Darkreader defaultDarken={darkMode} onChange={handleDarkMode}/>\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport {Container, Nav, Navbar} from \"react-bootstrap\";\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport {getAuth} from \"firebase/auth\";\r\nimport {AuthContext} from \"../service/Auth\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {DarkMode} from \"../DarkMode\";\r\n\r\nexport default function NaviBar() {\r\n    let history = useHistory();\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [admin, setAdmin] = useState(false);\r\n    const alert = useAlert()\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            currentUser.getIdTokenResult()\r\n                .then((idTokenResult) => {\r\n                    if (!!idTokenResult.claims.admin && !admin) {\r\n                        setAdmin(true)\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n                    console.log(error);\r\n                })\r\n        } else {\r\n            setAdmin(false)\r\n        }\r\n    }, [currentUser, admin, alert]);\r\n\r\n    const handleLogout = () => {\r\n        getAuth().signOut().then(() => history.push('/home'));\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Container>\r\n                    <LinkContainer to=\"/\">\r\n                        <Navbar.Brand>MathApp</Navbar.Brand>\r\n                    </LinkContainer>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\"/>\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"me-auto\">\r\n                            <LinkContainer to=\"/home\">\r\n                                <Nav.Link>Home</Nav.Link>\r\n                            </LinkContainer>\r\n                            {admin ? (<LinkContainer to=\"/admin\">\r\n                                <Nav.Link>Admin</Nav.Link>\r\n                            </LinkContainer>) : (<div/>)\r\n                            }\r\n                            {currentUser ? (<LinkContainer to=\"/task/create\">\r\n                                <Nav.Link>Create task</Nav.Link>\r\n                            </LinkContainer>) : (<div/>)}\r\n                        </Nav>\r\n                        <Nav>\r\n                            {currentUser ? (\r\n                                <>\r\n                                    <LinkContainer to={\"/profile/\" + currentUser.uid}>\r\n                                        <button className=\"btn btn-primary\" type=\"submit\">Profile</button>\r\n                                    </LinkContainer>\r\n                                    <button className=\"btn btn-primary mx-2\" onClick={() => handleLogout()}\r\n                                            type=\"submit\">Sign-out\r\n                                    </button>\r\n                                </>\r\n                            ) : (<LinkContainer to=\"/login\">\r\n                                <button className=\"btn btn-primary mx-2\" type=\"submit\">Sign-up</button>\r\n                            </LinkContainer>)}\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </Container>\r\n                <DarkMode/>\r\n            </Navbar>\r\n        </>\r\n    )\r\n\r\n}","import {TagCloud} from \"react-tagcloud\";\r\nimport {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {useAlert} from \"react-alert\";\r\n\r\nexport default function HomeTagCloud() {\r\n    const [tagData, setTagData] = useState([]);\r\n    const alert = useAlert()\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await axios.get(\"/task/getAllTags\")\r\n                .then(response => {\r\n                    setTagData(response.data)\r\n                }).catch((error) => {\r\n                    alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                    console.log(error);\r\n                });\r\n        }\r\n\r\n        fetchData().catch((error) => {\r\n            console.log(error)\r\n        })\r\n\r\n    }, [alert]);\r\n    return (\r\n        <TagCloud\r\n            minSize={12}\r\n            maxSize={35}\r\n            tags={tagData}\r\n            // onClick={tag => alert(`'${tag.value}' was selected!`)}\r\n        />\r\n    )\r\n}","import {getDownloadURL, getStorage, ref} from \"firebase/storage\";\r\nimport axios from \"axios\";\r\n\r\nconst storage = getStorage();\r\n\r\nexport const getURLData = (url) =>\r\n    new Promise((resolve, reject) => {\r\n        getDownloadURL(ref(storage, url))\r\n            .then(async (url) => {\r\n                await axios.get(url)\r\n                    .then(response => {\r\n                        resolve(response.data);\r\n                    }).catch((error) => {\r\n                        reject(new Error(\"No access!\"))\r\n                        console.log(error);\r\n                    });\r\n            })\r\n    });\r\n","import React, {useContext, useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {Badge, Button, Card, Col, Container, Form} from \"react-bootstrap\";\r\nimport {LinkContainer} from \"react-router-bootstrap\";\r\nimport {getURLData} from \"../../util/APIUtils\";\r\nimport MDEditor from '@uiw/react-md-editor';\r\nimport {AuthContext} from \"../../service/Auth\";\r\nimport {RatingView} from \"react-simple-star-rating\";\r\n\r\nexport default function HomeTasks() {\r\n    const [tasks, setTasks] = useState([]);\r\n    const alert = useAlert();\r\n    const [sorted, setSorted] = useState(\"dateUp\");\r\n    const [pending, setPending] = useState(true);\r\n    const {currentUser} = useContext(AuthContext);\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await axios.get(\"/task/getAllTasks\")\r\n                .then(async response => {\r\n                    for (const task of response.data) {\r\n                        await getURLData(task.conditionURL).then((condition) => {\r\n                            task.condition = condition;\r\n                        })\r\n                    }\r\n                    // setTasks(response.data)\r\n                    // setTasks(response.data.reverse())\r\n                    setTasks(response.data.sort((a, b) => {\r\n                        return b.id - a.id;\r\n                    }))\r\n                    setPending(false)\r\n                }).catch((error) => {\r\n                    alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                    console.log(error);\r\n                });\r\n        }\r\n\r\n        fetchData().catch((error) => {\r\n            console.log(error)\r\n        })\r\n\r\n    }, [alert]);\r\n    if (pending) {\r\n        return <>Loading...</>\r\n    }\r\n    const sortChange = (event) => {\r\n        setSorted(event.target.value)\r\n        if (event.target.value === \"dateUp\") {\r\n            setTasks(tasks.sort((a, b) => {\r\n                return b.id - a.id;\r\n            }))\r\n        } else if (event.target.value === \"ratingUp\") {\r\n            setTasks(tasks.sort((a, b) => {\r\n                return b.rating - a.rating;\r\n            }))\r\n        } else if (event.target.value === \"dateDown\") {\r\n            setTasks(tasks.sort((a, b) => {\r\n                return a.id - b.id;\r\n            }))\r\n        } else if (event.target.value === \"ratingDown\") {\r\n            setTasks(tasks.sort((a, b) => {\r\n                return a.rating - b.rating;\r\n            }))\r\n        }\r\n    }\r\n    return (\r\n        <Container className={\"mt-2\"}>\r\n            <Col md={3} className={\"text-end\"}>\r\n                <Form.Select value={sorted} onChange={sortChange}>\r\n                    <option value=\"dateUp\">Sort by date (recent first)</option>\r\n                    <option value=\"dateDown\">Sort by date (recent first)</option>\r\n                    <option value=\"ratingUp\">Sort by rating (high first)</option>\r\n                    <option value=\"ratingDown\">Sort by rating (high first)</option>\r\n                </Form.Select>\r\n            </Col>\r\n            {\r\n                tasks.map((task, index) => (\r\n                    <Card className={\"mt-2\"} key={index}>\r\n                        <Card.Header>\r\n                            <Card.Title as={\"h2\"}>\r\n                                {task.title}\r\n                            </Card.Title>\r\n                            <RatingView ratingValue={task.rating}/>\r\n                            <Card.Subtitle className=\"text-muted\">\r\n                                {task.theme}\r\n                            </Card.Subtitle>\r\n                            {\r\n                                task.tags.map((tag, index) => (\r\n                                    <Badge key={index} bg=\"primary\" className=\"mx-1\">{tag}</Badge>\r\n                                ))\r\n                            }\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n                            <MDEditor.Markdown source={task.condition}/>\r\n                            {currentUser ? (<LinkContainer to={\"/task/\" + task.id}>\r\n                                <Button className=\"mt-2\">Go to task</Button>\r\n                            </LinkContainer>) : <div/>}\r\n                        </Card.Body>\r\n                    </Card>\r\n                ))\r\n            }\r\n        </Container>\r\n    );\r\n}","import React from \"react\";\r\nimport HomeTagCloud from \"./HomeBlocks/HomeTagCloud\";\r\nimport HomeTasks from \"./HomeBlocks/HomeTasks\";\r\n\r\nexport const Home = () => {\r\n    return (\r\n        <div className=\"container mt-3 text-center\">\r\n            <HomeTagCloud/>\r\n            <HomeTasks/>\r\n        </div>\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport axios from \"axios\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {AuthContext} from \"../../service/Auth\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n\r\nexport default function UsersTable() {\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [data, setData] = useState([]);\r\n    const alert = useAlert()\r\n    let history = useHistory();\r\n    const columns = [\r\n        {\r\n            dataField: \"uid\",\r\n            text: \"ID\",\r\n            sort: true\r\n        },\r\n        {\r\n            dataField: \"username\",\r\n            text: \"Name\",\r\n            sort: true\r\n        },\r\n        {\r\n            dataField: \"email\",\r\n            text: \"Email\",\r\n            sort: true\r\n        },\r\n        {\r\n            dataField: \"provider\",\r\n            text: \"Provider\",\r\n            sort: true\r\n        },\r\n    ];\r\n    const rowEvents = {\r\n        onClick: (e, row, rowIndex) => {\r\n            history.push('/profile/' + row.uid)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            currentUser.getIdToken(true).then(async (idToken) => {\r\n                await axios.get(\"/admin/getAll\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    },\r\n                })\r\n                    .then(response => {\r\n                        setData(response.data);\r\n                    }).catch((error) => {\r\n                        alert.show(\"You are not an admin!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n            }).catch((error) => {\r\n                alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n        } else {\r\n            alert.show(\"Please login to view\", {timeout: 2000, type: 'error'})\r\n        }\r\n    }, [alert, currentUser]);\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <BootstrapTable\r\n                striped\r\n                hover\r\n                keyField='id'\r\n                data={data}\r\n                columns={columns}\r\n                rowEvents={rowEvents}\r\n                pagination={paginationFactory({sizePerPage: 5, hideSizePerPage: true})}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport UsersTable from \"./AdminBlocks/UsersTable\";\r\nimport {Container} from \"react-bootstrap\";\r\n\r\nexport const Admin = () => (\r\n    <Container>\r\n        <UsersTable/>\r\n    </Container>\r\n)","import {FacebookAuthProvider, GithubAuthProvider, GoogleAuthProvider} from \"firebase/auth\";\r\n\r\nexport const googleProvider = new GoogleAuthProvider();\r\nexport const facebookProvider = new FacebookAuthProvider();\r\nexport const githubProvider = new GithubAuthProvider();","import React, {useContext} from \"react\";\r\nimport {facebookProvider, githubProvider, googleProvider} from \"../config/AuthMethods\";\r\nimport {AuthContext} from \"../service/Auth\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {getAuth, signInWithPopup} from \"firebase/auth\";\r\nimport firebase from \"../config/FirebaseConfig\";\r\nimport {useAlert} from \"react-alert\";\r\n\r\nconst auth = getAuth(firebase);\r\nexport const Login = () => {\r\n    const alert = useAlert()\r\n    const {currentUser} = useContext(AuthContext);\r\n    const handleOnClick = async (provider) => {\r\n        await signInWithPopup(auth, provider);\r\n        await auth.currentUser.getIdToken(true).then((idToken) => {\r\n            axios.post(\"/auth/login\", {}, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    idToken: idToken,\r\n                },\r\n            }).catch((error) => {\r\n                alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n        }).catch((error) => {\r\n            alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n            console.log(error)\r\n        });\r\n    };\r\n\r\n    if (currentUser) {\r\n        return <Redirect to=\"/\"/>;\r\n    }\r\n    return (\r\n        <div className=\"container mt-3 mb-2 text-center\">\r\n            <div className=\"container mt-2 mb-2\">\r\n                <div className=\"btn btn-lg btn-secondary fab fa-google col-3\"\r\n                     onClick={() => handleOnClick(googleProvider)}>Continue with Google\r\n                </div>\r\n            </div>\r\n            <div className=\"container mt-2 mb-2\">\r\n                <div className=\"btn btn-lg btn-secondary fab fa-facebook col-3\"\r\n                     onClick={() => handleOnClick(facebookProvider)}>Continue with Facebook\r\n                </div>\r\n            </div>\r\n            <div className=\"container mt-2 mb-2\">\r\n                <div className=\"btn btn-lg btn-secondary fab fa-github col-3\"\r\n                     onClick={() => handleOnClick(githubProvider)}>Continue with GitHub\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport axios from \"axios\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {AuthContext} from \"../../service/Auth\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport filterFactory, {textFilter} from 'react-bootstrap-table2-filter';\r\nimport 'react-bootstrap-table2-filter/dist/react-bootstrap-table2-filter.min.css';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\nimport 'react-bootstrap-table2-paginator/dist/react-bootstrap-table2-paginator.min.css';\r\nimport {Button, Modal} from \"react-bootstrap\";\r\n\r\nexport default function TasksTable(uid) {\r\n    let history = useHistory();\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [data, setData] = useState([]);\r\n    const alert = useAlert()\r\n    const [showDanger, setShowDanger] = useState(false);\r\n    const columns = [\r\n        {\r\n            dataField: \"id\",\r\n            text: \"Task id\",\r\n            sort: true\r\n        },\r\n        {\r\n            dataField: \"title\",\r\n            text: \"Title\",\r\n            sort: true,\r\n            filter: textFilter()\r\n        },\r\n        {\r\n            dataField: \"theme\",\r\n            text: \"Theme\",\r\n            sort: true,\r\n            filter: textFilter()\r\n        }\r\n    ];\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await currentUser.getIdToken(true).then(async (idToken) => {\r\n                await axios.get(\"/task/getUserTasks\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    },\r\n                    params: {\r\n                        uid: uid.uid\r\n                    },\r\n                })\r\n                    .then(response => {\r\n                        setData(response.data);\r\n                    }).catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n            }).catch((error) => {\r\n                alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n        }\r\n\r\n        fetchData().catch((error) => {\r\n            console.log(error)\r\n        })\r\n\r\n    }, [uid, alert, currentUser]);\r\n\r\n    const expandRow = {\r\n        renderer: row => (\r\n            <div>\r\n                <Button className={\"mx-1\"} onClick={() => history.push('/task/' + row.id + '/edit')}>Edit</Button>\r\n                <Button className={\"mx-1\"} onClick={() => history.push('/task/' + row.id)}>View</Button>\r\n                <Button variant=\"danger\" className={\"mx-1\"} onClick={()=>setShowDanger(true)}>Delete</Button>\r\n                <Modal show={showDanger} onHide={() => setShowDanger(false)}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Delete task</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>Are you sure you want to delete the task?</Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => setShowDanger(false)}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={() => setShowDanger(false)}>\r\n                            Delete\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        ),\r\n    };\r\n    return (\r\n        <div>\r\n            {!!data.length ?\r\n                (<div className=\"container mt-5\">\r\n                    <BootstrapTable\r\n                        striped\r\n                        hover\r\n                        keyField='id'\r\n                        data={data}\r\n                        columns={columns}\r\n                        // rowEvents={rowEvents}\r\n                        filter={filterFactory()}\r\n                        expandRow={expandRow}\r\n                        pagination={paginationFactory({sizePerPage: 5, hideSizePerPage: true})}/>\r\n                </div>)\r\n                : <div/>}\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {AuthContext} from \"../service/Auth\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {Card, Container, ListGroup} from \"react-bootstrap\";\r\nimport TasksTable from \"./ProfileBlocks/TasksTable\";\r\n\r\nexport default function Profile() {\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [profileData, setProfileData] = useState([]);\r\n    const {uid} = useParams()\r\n    const alert = useAlert()\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await currentUser.getIdToken(true).then(async (idToken) => {\r\n                await axios.get(\"/admin/getProfile\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    },\r\n                    params: {\r\n                        uid: uid\r\n                    },\r\n                })\r\n                    .then(response => {\r\n                        setProfileData(response.data)\r\n                    }).catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n            }).catch((error) => {\r\n                alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n        }\r\n\r\n        fetchData().catch((error) => {\r\n            console.log(error)\r\n        })\r\n\r\n    }, [uid, currentUser, alert]);\r\n    if (!profileData) {\r\n        return <p>User not found</p>;\r\n    }\r\n    return (\r\n        <Container className={\"mt-2\"}>\r\n            <Card>\r\n                <Card.Header>\r\n                    <Card.Title as={\"h2\"}>\r\n                        {profileData.username}\r\n                    </Card.Title>\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <ListGroup variant=\"flush\">\r\n                        <ListGroup.Item as={\"h5\"}>Number of tasks created: {profileData.createdTasks}</ListGroup.Item>\r\n                        <ListGroup.Item as={\"h5\"}>Number of solved tasks: {profileData.solvedTasks}</ListGroup.Item>\r\n                    </ListGroup>\r\n                </Card.Body>\r\n            </Card>\r\n            {profileData.uid ? (<TasksTable uid={profileData.uid}/>) : <>Loading...</>}\r\n        </Container>\r\n    );\r\n}","import {useDropzone} from \"react-dropzone\";\r\nimport {useEffect, useMemo} from \"react\";\r\n\r\nconst baseStyle = {\r\n    flex: 1,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: '20px',\r\n    borderWidth: 2,\r\n    borderRadius: 2,\r\n    borderColor: '#eeeeee',\r\n    borderStyle: 'dashed',\r\n    backgroundColor: '#fafafa',\r\n    color: '#bdbdbd',\r\n    outline: 'none',\r\n    transition: 'border .24s ease-in-out'\r\n};\r\n\r\nconst activeStyle = {\r\n    borderColor: '#2196f3'\r\n};\r\n\r\nconst acceptStyle = {\r\n    borderColor: '#00e676'\r\n};\r\n\r\nconst rejectStyle = {\r\n    borderColor: '#ff1744'\r\n};\r\nexport default function DropPlace({getImages}) {\r\n\r\n    function typeValidator(file) {\r\n        const validImageTypes = ['image/bmp', 'image/jpeg', 'image/jpg', 'image/png'];\r\n        if (!validImageTypes.includes(file['type'])) {\r\n            return {\r\n                code: \"wrong-type\",\r\n                message: `Images only`\r\n            };\r\n        }\r\n        return null\r\n    }\r\n\r\n    const {\r\n        acceptedFiles, fileRejections, getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject\r\n    } = useDropzone({\r\n        maxFiles: 3,\r\n        validator: typeValidator\r\n    });\r\n    const accFiles = acceptedFiles.map(file => (\r\n        <li key={file.path}>\r\n            {file.path} - {file.size} bytes\r\n        </li>\r\n    ));\r\n    const rejFiles = fileRejections.map(({file, errors}) => {\r\n        return (\r\n            <li key={file.path}>\r\n                {file.path} - {file.size} bytes\r\n                <ul>\r\n                    {errors.map(e => <li key={e.code}>{e.message}</li>)}\r\n                </ul>\r\n\r\n            </li>\r\n        )\r\n    });\r\n    const style = useMemo(() => ({\r\n        ...baseStyle,\r\n        ...(isDragActive ? activeStyle : {}),\r\n        ...(isDragAccept ? acceptStyle : {}),\r\n        ...(isDragReject ? rejectStyle : {})\r\n    }), [\r\n        isDragActive,\r\n        isDragReject,\r\n        isDragAccept\r\n    ]);\r\n\r\n\r\n    useEffect(() => {\r\n        getImages(acceptedFiles)\r\n    }, [getImages, acceptedFiles])\r\n\r\n    return (\r\n        <section className=\"container mt-2\">\r\n            <h4>Add images</h4>\r\n            <div {...getRootProps({style})}>\r\n                <input {...getInputProps()} />\r\n                <p>Drag 'n' drop some files here, or click to select files</p>\r\n                <em>(3 files are the maximum number of files you can drop here)</em>\r\n            </div>\r\n            <aside className=\"mt-2\">\r\n                <h5>Accepted files</h5>\r\n                <ul>{accFiles}</ul>\r\n                <h5>Rejected files</h5>\r\n                <ul>{rejFiles}</ul>\r\n            </aside>\r\n        </section>\r\n    );\r\n}\r\n\r\n","import {useEffect, useState} from \"react\";\r\nimport MDEditor from '@uiw/react-md-editor';\r\n\r\nexport default function TaskCondition({getCondition}) {\r\n    const [condition, setCondition] = useState(\"**Condition here**\");\r\n    useEffect(() => {\r\n        getCondition(condition)\r\n    }, [getCondition, condition])\r\n    return (\r\n        <div className=\"container mt-3\">\r\n            <h4>Set condition</h4>\r\n            <MDEditor\r\n                value={condition}\r\n                onChange={setCondition}\r\n            />\r\n        </div>\r\n    );\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {Form, Stack} from \"react-bootstrap\";\r\nimport {Typeahead} from 'react-bootstrap-typeahead';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport \"./TaskHead.css\"\r\nimport axios from \"axios\";\r\nimport {getAuth} from \"firebase/auth\";\r\nimport firebase from \"../../config/FirebaseConfig\";\r\nimport {useAlert} from \"react-alert\";\r\n\r\nconst auth = getAuth(firebase);\r\n\r\nexport default function TaskHead({getTitle, getTheme, getTags}) {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [theme, setTheme] = useState(\"\");\r\n    const [multiSelections, setMultiSelections] = useState([]);\r\n    const [tagOptions, setTagOptions] = useState([])\r\n    const [themeOptions, setThemeOptions] = useState([])\r\n    const alert = useAlert()\r\n    useEffect(() => {\r\n        getTitle(title)\r\n    }, [getTitle, title])\r\n    useEffect(() => {\r\n        getTheme(theme)\r\n    }, [theme, getTheme])\r\n    useEffect(() => {\r\n        getTags(multiSelections)\r\n    }, [getTags, multiSelections])\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await auth.currentUser.getIdToken(true).then(async (idToken) => {\r\n                await axios.get(\"/task/getAllTagNames\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    }\r\n                })\r\n                    .then(response => {\r\n                        setTagOptions(response.data)\r\n                    }).catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n                await axios.get(\"/task/getAllThemes\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    }\r\n                })\r\n                    .then(response => {\r\n                        setThemeOptions(response.data)\r\n                        setTheme(response.data[0])\r\n                    }).catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n            }).catch((error) => {\r\n                alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n        }\r\n\r\n        fetchData().catch((error) => {\r\n            console.log(error)\r\n        })\r\n\r\n    }, [alert]);\r\n    const Select = ({value, options, onChange}) => {\r\n        return (\r\n            <Form.Select required value={value} onChange={onChange}>\r\n                {options.map(option => {\r\n                    return (<option key={option} value={option}>{option}</option>);\r\n                })}\r\n            </Form.Select>\r\n        );\r\n    };\r\n    return (\r\n        <Stack gap={3} className=\"container mt-2 mx-auto\">\r\n            <Form.Group>\r\n                <Form.Label as={\"h4\"}>Choose title</Form.Label>\r\n                <Form.Control required\r\n                              type=\"text\"\r\n                              placeholder=\"Choose a title...\"\r\n                              value={title}\r\n                              onChange={event => {\r\n                                  setTitle(event.target.value)\r\n                              }}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                    Please choose a title.\r\n                </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label as={\"h4\"}>Chose theme</Form.Label>\r\n                <Select value={theme} options={themeOptions} onChange={event => {\r\n                    setTheme(event.target.value)\r\n                }}/>\r\n                <Form.Control.Feedback type=\"invalid\">Please choose a theme.</Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Form.Group>\r\n                <Form.Label as={\"h4\"}>Choose tags</Form.Label>\r\n                <Typeahead\r\n                    clearButton\r\n                    allowNew\r\n                    id=\"tags\"\r\n                    labelKey=\"name\"\r\n                    multiple\r\n                    onChange={setMultiSelections}\r\n                    options={tagOptions}\r\n                    placeholder=\"Choose tags...\"\r\n                    selected={multiSelections}\r\n                />\r\n            </Form.Group>\r\n        </Stack>\r\n    );\r\n}","import React, {Fragment, useEffect, useState} from \"react\";\r\nimport {Button, ButtonGroup, Col, Form, Row} from \"react-bootstrap\";\r\n\r\nexport default function TaskAnswer({getAnswer}) {\r\n    const [answers, setAnswers] = useState([\r\n        {answer: ''}\r\n    ]);\r\n    useEffect(() => {\r\n        getAnswer(answers)\r\n    }, [getAnswer, answers])\r\n    const handleAddFields = () => {\r\n        const values = [...answers];\r\n        if (values.length < 3) {\r\n            values.push({answer: ''});\r\n            setAnswers(values);\r\n        }\r\n    };\r\n    const handleRemoveFields = index => {\r\n        const values = [...answers];\r\n        if (values.length > 1) {\r\n            values.splice(index, 1);\r\n            setAnswers(values);\r\n        }\r\n    };\r\n    const handleInputChange = (index, event) => {\r\n        const values = [...answers];\r\n        values[index].answer = event.target.value;\r\n        setAnswers(values);\r\n    };\r\n    return (\r\n        <Form.Group className=\"container mt-2\">\r\n            <Form.Label><h4>Set answers</h4></Form.Label>\r\n            {answers.map((answers, index) => (\r\n                <Fragment key={`${answers}~${index}`}>\r\n                    <Row className=\"mt-2\">\r\n                        <Col md={10}>\r\n                            <Form.Control\r\n                                required\r\n                                type=\"text\"\r\n                                placeholder=\"Answer\"\r\n                                value={answers.answer}\r\n                                onChange={event => handleInputChange(index, event)}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                Please set a answer.\r\n                            </Form.Control.Feedback>\r\n                        </Col>\r\n                        <Col md={2}>\r\n                            <ButtonGroup>\r\n                                <Button\r\n                                    variant=\"secondary\"\r\n                                    onClick={() => handleRemoveFields(index)}>\r\n                                    -\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"secondary\"\r\n                                    onClick={() => handleAddFields()}>\r\n                                    +\r\n                                </Button>\r\n                            </ButtonGroup>\r\n                        </Col>\r\n                    </Row>\r\n                </Fragment>\r\n            ))}\r\n        </Form.Group>\r\n    )\r\n}\r\n","import React, {useCallback, useContext, useState} from \"react\";\r\nimport {Button, Form} from \"react-bootstrap\";\r\nimport DropPlace from \"./TaskCreationBlocks/DropPlace\";\r\nimport TaskCondition from \"./TaskCreationBlocks/TaskCondition\";\r\nimport {AuthContext} from \"../service/Auth\";\r\nimport {useAlert} from \"react-alert\";\r\nimport TaskHead from \"./TaskCreationBlocks/TaskHead\";\r\nimport TaskAnswer from \"./TaskCreationBlocks/TaskAnswer\";\r\nimport {getDownloadURL, getStorage, ref, uploadBytesResumable} from \"firebase/storage\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst storage = getStorage();\r\nexport const TaskCreation = ({mode = \"create\"}) => {\r\n    let history = useHistory();\r\n    const date = new Date().getTime();\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [title, setTitle] = useState(\"\");\r\n    const [theme, setTheme] = useState(\"\");\r\n    const [tags, setTags] = useState(null)\r\n    const [condition, setCondition] = useState(null)\r\n    const [images, setImages] = useState(null)\r\n    const [answer, setAnswer] = useState([]);\r\n    const [validated, setValidated] = useState(false);\r\n    const alert = useAlert()\r\n    const getTitle = useCallback((title) => {\r\n        setTitle(title)\r\n    }, []);\r\n    const getTheme = useCallback((theme) => {\r\n        setTheme(theme)\r\n    }, []);\r\n    const getTags = useCallback((tags) => {\r\n        setTags(tags)\r\n    }, []);\r\n    const getCondition = useCallback((condition) => {\r\n        setCondition(condition)\r\n    }, []);\r\n    const getAnswer = useCallback((answer) => {\r\n        setAnswer(answer)\r\n    }, []);\r\n    const getImages = useCallback((images) => {\r\n        setImages(images)\r\n    }, []);\r\n    const uploadFiles = (type, file) =>\r\n        new Promise((resolve, reject) => {\r\n            const uploadRef = ref(storage, `/${currentUser.uid}/${type}/${file.name}`);\r\n            const uploadTask = uploadBytesResumable(uploadRef, file);\r\n            const taskProgress = () => {\r\n            };\r\n            const taskError = reject;\r\n            const taskCompleted = () => {\r\n                getDownloadURL(uploadTask.snapshot.ref)\r\n                    .then(resolve)\r\n                    .catch(reject);\r\n            };\r\n            uploadTask.on(\"state_changed\", taskProgress, taskError, taskCompleted);\r\n        });\r\n\r\n    async function uploadData() {\r\n        const imagesUrls = [];\r\n        let conditionUrl = null;\r\n        const tagsDto = [];\r\n        const answersDto = [];\r\n        for (const image of images) {\r\n            await uploadFiles(\"Images\", image).then((url) => {\r\n                imagesUrls.push(url)\r\n            })\r\n        }\r\n        const file = new File([condition], `${date}.md`, {\r\n            type: \"text/markdown\",\r\n        });\r\n        await uploadFiles(\"Conditions\", file).then((url) => {\r\n            conditionUrl = url;\r\n        });\r\n        tags.forEach(elm => {\r\n            if (elm.substring) {\r\n                tagsDto.push(elm)\r\n            } else {\r\n                tagsDto.push(elm.name)\r\n            }\r\n        })\r\n        answer.forEach(elm => {\r\n            answersDto.push(elm.answer)\r\n        })\r\n        const taskDto = {\r\n            title: title,\r\n            theme: theme,\r\n            tags: tagsDto,\r\n            conditionURL: conditionUrl,\r\n            images: imagesUrls,\r\n            answers: answersDto\r\n        };\r\n        console.log(taskDto);\r\n        await currentUser.getIdToken(true).then((idToken) => {\r\n            axios.post(\"/task/create\", taskDto, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    idToken: idToken,\r\n                },\r\n            }).then(() => {\r\n                history.push('/home')\r\n                alert.show(\"Successfully created!\", {timeout: 2000, type: 'success'})\r\n            }).catch((error) => {\r\n                alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n        }).catch((error) => {\r\n            alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n            console.log(error)\r\n        });\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        const form = event.currentTarget;\r\n        event.preventDefault();\r\n        if (form.checkValidity() === false) {\r\n            setValidated(true);\r\n            event.stopPropagation();\r\n        } else {\r\n            await uploadData();\r\n        }\r\n    }\r\n    const handleEdit = async (event) => {\r\n        event.preventDefault();\r\n        alert.show(\"Soon\", {timeout: 2000, type: 'info'})\r\n    }\r\n    return (\r\n        <Form className=\"col-md-8 mt-2 mx-auto\" noValidate validated={validated}\r\n              onSubmit={mode === \"create\" ? handleSubmit : handleEdit}>\r\n            <h2 className={\"text-center\"}>{mode === \"create\" ? (\"Create new task\") : (\"Edit task\")}</h2>\r\n            <TaskHead getTitle={getTitle}\r\n                      getTheme={getTheme}\r\n                      getTags={getTags}/>\r\n            <TaskCondition getCondition={getCondition}/>\r\n            <TaskAnswer getAnswer={getAnswer}/>\r\n            <DropPlace getImages={getImages}/>\r\n            <div className=\"d-grid gap-2\">\r\n                <Button variant=\"primary\" size=\"lg\" type=\"submit\">{mode === \"create\" ? (\"Create\") : (\"Edit\")}</Button>\r\n            </div>\r\n        </Form>\r\n    )\r\n}","import {Button, Form} from \"react-bootstrap\";\r\nimport React, {useContext, useState} from \"react\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {AuthContext} from \"../../service/Auth\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function TaskAnswerChecker({taskId, answers, solved, getSolved}) {\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [answer, setAnswer] = useState(\"\");\r\n\r\n    const alert = useAlert()\r\n\r\n    const sendAnswer = async () => {\r\n        await currentUser.getIdToken(true).then(async (idToken) => {\r\n            await axios.post(\"/task/currentAnswer\", taskId, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    idToken: idToken,\r\n                }\r\n            })\r\n                .catch((error) => {\r\n                    alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                    console.log(error);\r\n                });\r\n        }).catch((error) => {\r\n            alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n            console.log(error)\r\n        });\r\n    }\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if (solved) {\r\n            alert.show(\"The task has already been solved!\", {timeout: 2000, type: 'info'})\r\n        } else {\r\n            if (answers.includes(answer)) {\r\n                alert.show(\"Correct answer!\", {timeout: 2000, type: 'success'})\r\n                await sendAnswer();\r\n                getSolved(true);\r\n            } else {\r\n                alert.show(\"Wrong answer!\", {timeout: 2000, type: 'error'})\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <Form className=\"col-md-5 mx-auto\" onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n                <Form.Label as={\"h4\"}>Your answer:</Form.Label>\r\n                <Form.Control className=\"mt-3\"\r\n                              required\r\n                              type=\"text\"\r\n                              placeholder=\"Enter your answer...\"\r\n                              value={answer}\r\n                              onChange={event => {\r\n                                  setAnswer(event.target.value)\r\n                              }}\r\n                />\r\n            </Form.Group>\r\n            <Button className=\"mt-3 mb-3\" variant=\"primary\" size=\"lg\" type=\"submit\">Check</Button>\r\n        </Form>\r\n    )\r\n}","import React, {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {getURLData} from \"../util/APIUtils\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport {Badge, Card, Col, Container, Image, ListGroup, ListGroupItem, Row} from \"react-bootstrap\";\r\nimport {AuthContext} from \"../service/Auth\";\r\nimport TaskAnswerChecker from \"./TaskBlocks/TaskAnswerChecker\";\r\nimport {Rating, RatingView} from \"react-simple-star-rating\";\r\n\r\nexport default function Task({mode = \"view\"}) {\r\n    const [rating, setRating] = useState(0)\r\n    const [ratingSend, setRatingSend] = useState(false)\r\n    const {currentUser} = useContext(AuthContext);\r\n    const [taskData, setTaskData] = useState([]);\r\n    const [condition, setCondition] = useState(\"\");\r\n    const [images, setImages] = useState([]);\r\n    const [tags, setTags] = useState([]);\r\n    const {taskId} = useParams();\r\n    const alert = useAlert()\r\n    const [solved, setSolved] = useState(false);\r\n    const getSolved = useCallback((solved) => {\r\n        setSolved(solved)\r\n    }, []);\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await currentUser.getIdToken(true).then(async (idToken) => {\r\n                await axios.get(\"/task/getTask\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    },\r\n                    params: {\r\n                        taskId: taskId\r\n                    },\r\n                })\r\n                    .then(async response => {\r\n                        await getURLData(response.data.conditionURL).then((condition) => {\r\n                            setCondition(condition);\r\n                        });\r\n                        setTaskData(response.data)\r\n                        setTags(response.data.tags)\r\n                        setImages(response.data.images)\r\n                        setRating(response.data.rating)\r\n                    }).catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n                await axios.get(\"/task/checkSolvedTask\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    },\r\n                    params: {\r\n                        taskId: taskId\r\n                    },\r\n                })\r\n                    .then((response) => {\r\n                        setSolved(response.data)\r\n                    })\r\n                    .catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n                await axios.get(\"/task/checkTaskRated\", {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        idToken: idToken,\r\n                    },\r\n                    params: {\r\n                        taskId: taskId\r\n                    },\r\n                })\r\n                    .then((response) => {\r\n                        setRatingSend(response.data)\r\n                    })\r\n                    .catch((error) => {\r\n                        alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                        console.log(error);\r\n                    });\r\n            }).catch((error) => {\r\n                alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n                console.log(error)\r\n            });\r\n        }\r\n\r\n        fetchData().catch((error) => {\r\n            console.log(error)\r\n        })\r\n\r\n    }, [alert, currentUser, taskId]);\r\n\r\n    async function addRating(rate) {\r\n        await currentUser.getIdToken(true).then(async (idToken) => {\r\n            await axios.post(\"/task/addRating\", [], {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    idToken: idToken,\r\n                },\r\n                params: {\r\n                    taskId: taskId,\r\n                    rating: rate\r\n                },\r\n            })\r\n                .catch((error) => {\r\n                    alert.show(\"No access!\", {timeout: 2000, type: 'error'})\r\n                    console.log(error);\r\n                });\r\n        }).catch((error) => {\r\n            alert.show(\"Bad token\", {timeout: 2000, type: 'error'})\r\n            console.log(error)\r\n        });\r\n    }\r\n\r\n    const handleRating = async (rate) => {\r\n        if (!ratingSend) {\r\n            setRating(rate)\r\n            setRatingSend(true)\r\n            await addRating(rate);\r\n        } else {\r\n            alert.show(\"You have already set a rating\", {timeout: 2000, type: 'error'})\r\n        }\r\n    }\r\n    return (\r\n        <Container className=\" mt-2 mx-auto text-center\">\r\n            <Card>\r\n                <Card.Header>\r\n                    <Card.Title as={\"h2\"}>\r\n                        {taskData.title}\r\n                    </Card.Title>\r\n                    {(!ratingSend && mode === \"view\") ? (<Rating onClick={handleRating} ratingValue={rating}/>) : (\r\n                        <RatingView ratingValue={rating}/>)}\r\n                    <Card.Subtitle className=\"text-muted\">\r\n                        {taskData.theme}\r\n                    </Card.Subtitle>\r\n                    {\r\n                        tags.map((tag, index) => (\r\n                            <Badge key={index} bg=\"primary\" className=\"mx-1\">{tag}</Badge>\r\n                        ))\r\n                    }\r\n\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <ListGroup className=\"list-group-flush\">\r\n                        <ListGroupItem><MDEditor.Markdown source={condition}/></ListGroupItem>\r\n                        <ListGroupItem>\r\n                            <Row>\r\n                                {images.map((image, index) => (\r\n                                    <Col key={index}>\r\n                                        <Image src={image} rounded width={\"300\"}/>\r\n                                    </Col>\r\n                                ))}\r\n                            </Row>\r\n                        </ListGroupItem>\r\n                    </ListGroup>\r\n                </Card.Body>\r\n                {mode === \"edit\" ? (\r\n                    <div>\r\n                        <h4>Answers:</h4>\r\n                        {!!taskData.answers ? taskData.answers.map((answer, index) => (\r\n                            <div key={index}>{answer}</div>\r\n                        )) :<div/>}\r\n                    </div>\r\n                    )\r\n                    :\r\n                    (<TaskAnswerChecker taskId={taskData.id} answers={taskData.answers} solved={solved}\r\n                                                          getSolved={getSolved}/>)}\r\n\r\n            </Card>\r\n        </Container>\r\n    );\r\n}","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport {AuthContext} from \"../service/Auth\";\r\n\r\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\r\n    const {currentUser} = useContext(AuthContext);\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={routeProps =>\r\n                !!currentUser ? (\r\n                    <RouteComponent {...routeProps} />\r\n                ) : (\r\n                    <Redirect to={\"/login\"} />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\nexport default PrivateRoute","import React from \"react\";\r\nimport {TaskCreation} from \"./TaskCreation\";\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport Task from \"./Task\";\r\n\r\nexport default function TaskEdit() {\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                <Col>\r\n                    <Task mode=\"edit\"/>\r\n                </Col>\r\n                <Col>\r\n                    <TaskCreation mode=\"edit\"/>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n","import React from 'react';\nimport NaviBar from \"./components/NaviBar\";\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\nimport {Home} from \"./components/Home\";\nimport {Admin} from \"./components/Admin\";\nimport {Login} from \"./components/Login\";\nimport {AuthProvider} from \"./service/Auth\";\nimport Profile from \"./components/Profile\";\nimport {TaskCreation} from \"./components/TaskCreation\";\nimport Task from \"./components/Task\";\nimport PrivateRoute from \"./common/PrivateRoute\";\nimport TaskEdit from \"./components/TaskEdit\";\n\nfunction App() {\n    return (\n        <AuthProvider>\n            <HashRouter>\n                <NaviBar/>\n                <Switch>\n                    <Route exact path=\"/home\" component={Home}/>\n                    <Route exact path=\"/\" component={Home}/>\n                    <PrivateRoute exact path=\"/admin\" component={Admin}/>\n                    <Route exact path=\"/login\" component={Login}/>\n                    <PrivateRoute exact path=\"/task/create\" component={TaskCreation}/>\n                    <Route exact path=\"/profile/:uid\" component={Profile}/>\n                    <Route exact path=\"/task/:taskId\" component={Task}/>\n                    <Route exact path=\"/task/:taskId/edit\" component={TaskEdit}/>\n                </Switch>\n            </HashRouter>\n        </AuthProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider as AlertProvider } from 'react-alert'\nimport AlertTemplate from 'react-alert-template-basic'\n\nReactDOM.render(\n    <AlertProvider template={AlertTemplate}>\n    <HashRouter>\n        <App/>,\n    </HashRouter>\n    </AlertProvider>,\n    document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}