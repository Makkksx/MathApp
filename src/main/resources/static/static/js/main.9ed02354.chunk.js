(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{622:function(e,t,n){},624:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(35),o=n.n(r),s=n(15),i=n(643),u=n(636),j=n(644),l=n(56),b=n(43),d=n(184),h=Object(d.a)({apiKey:"AIzaSyAZCTYk0aTKjj0d8ihntd_GuzdodUT4RVQ",authDomain:"poised-cathode-325720.firebaseapp.com",projectId:"poised-cathode-325720",storageBucket:"poised-cathode-325720.appspot.com",messagingSenderId:"286350985232",appId:"1:286350985232:web:bbd8c1efc44e336bd06295",measurementId:"G-LHMQMJVMPJ"}),O=n(1),f=a.a.createContext(),p=Object(b.d)(h),x=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(s.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(!0),u=Object(s.a)(i,2),j=u[0],l=u[1];return Object(c.useEffect)((function(){p.onAuthStateChanged((function(e){o(e),l(!1)}))}),[]),j?Object(O.jsx)(O.Fragment,{children:"Loading..."}):Object(O.jsx)(f.Provider,{value:{currentUser:r},children:t})},m=n(26);function g(){var e=Object(c.useContext)(f).currentUser,t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(m.b)();Object(c.useEffect)((function(){e?e.getIdTokenResult().then((function(e){e.claims.admin&&!a&&r(!0)})).catch((function(e){o.show("Bad token",{timeout:2e3,type:"error"}),console.log(e)})):r(!1)}),[e,a,o]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(i.a,{bg:"light",expand:"lg",children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(l.LinkContainer,{to:"/",children:Object(O.jsx)(i.a.Brand,{children:"MathApp"})}),Object(O.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(i.a.Collapse,{id:"basic-navbar-nav",children:[Object(O.jsxs)(j.a,{className:"me-auto",children:[Object(O.jsx)(l.LinkContainer,{to:"/home",children:Object(O.jsx)(j.a.Link,{children:"Home"})}),a?Object(O.jsx)(l.LinkContainer,{to:"/admin",children:Object(O.jsx)(j.a.Link,{children:"Admin"})}):Object(O.jsx)("div",{}),e?Object(O.jsx)(l.LinkContainer,{to:"/createTask",children:Object(O.jsx)(j.a.Link,{children:"Create task"})}):Object(O.jsx)("div",{})]}),Object(O.jsx)(j.a,{children:e?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.LinkContainer,{to:"/profile/"+e.uid,children:Object(O.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Profile"})}),Object(O.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){Object(b.d)().signOut().then((function(){return window.location.href="/home"}))},type:"submit",children:"Sign-out"})]}):Object(O.jsx)(l.LinkContainer,{to:"/login",children:Object(O.jsx)("button",{className:"btn btn-primary mx-2",type:"submit",children:"Sign-up"})})})]})]})})})}var v=n(51),k=n(28),w=n(2),y=n.n(w),C=n(5),T=n(187),N=n(29),S=n.n(N),I="http://localhost:8080";function F(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(m.b)();return Object(c.useEffect)((function(){function e(){return(e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(I+"/task/getAllTags").then((function(e){a(e.data)})).catch((function(e){r.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log(e)}))}),[r]),Object(O.jsx)(T.TagCloud,{minSize:12,maxSize:35,tags:n})}var L=n(31),E=n(646),U=n(637),A=n(638),B=n(57),P=Object(B.b)(),R=function(e){return new Promise((function(t,n){Object(B.a)(Object(B.c)(P,e)).then(function(){var e=Object(C.a)(y.a.mark((function e(c){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(c).then((function(e){t(e.data)})).catch((function(e){n(new Error("No access!")),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},D=n(77);function G(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(m.b)(),o=Object(c.useState)(!0),i=Object(s.a)(o,2),j=i[0],b=i[1],d=Object(c.useContext)(f).currentUser;return Object(c.useEffect)((function(){function e(){return e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(I+"/task/getAllTasks").then(function(){var e=Object(C.a)(y.a.mark((function e(t){var n,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(L.a)(t.data),e.prev=1,r=y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,e.next=3,R(t.conditionURL).then((function(e){t.condition=e}));case 3:case"end":return e.stop()}}),e)})),n.s();case 4:if((c=n.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:a(t.data),a(t.data.reverse()),b(!1);case 19:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log(e)}))}),[r]),j?Object(O.jsx)(O.Fragment,{children:"Loading..."}):n.map((function(e,t){return Object(O.jsx)(u.a,{className:"mt-2",children:Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(E.a.Header,{children:[Object(O.jsx)(E.a.Title,{as:"h2",children:e.title}),Object(O.jsx)(E.a.Subtitle,{className:"text-muted",children:e.theme}),e.tags.map((function(e,t){return Object(O.jsx)(U.a,{bg:"primary",className:"mx-1",children:e},t)}))]}),Object(O.jsxs)(E.a.Body,{children:[Object(O.jsx)(D.a.Markdown,{source:e.condition}),d?Object(O.jsx)(l.LinkContainer,{to:"/task/"+e.id,children:Object(O.jsx)(A.a,{className:"mt-2",children:"Go to task"})}):Object(O.jsx)("div",{})]})]})},t)}))}var z=function(){return Object(O.jsxs)("div",{className:"container mt-3 text-center",children:[Object(O.jsx)(F,{}),Object(O.jsx)(G,{})]})},M=n(106),H=n.n(M);function J(){var e=Object(c.useContext)(f).currentUser,t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(m.b)(),i={onClick:function(e,t,n){console.log(t),window.location.href="/profile/"+t.uid}};return Object(c.useEffect)((function(){e?e.getIdToken(!0).then(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(I+"/admin/getAll",{headers:{"Content-Type":"application/json",idToken:t}}).then((function(e){r(e.data)})).catch((function(e){o.show("You are not an admin!",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){o.show("No access!",{timeout:2e3,type:"error"}),console.log(e)})):o.show("Please login to view",{timeout:2e3,type:"error"})}),[o,e]),Object(O.jsx)("div",{className:"container",style:{marginTop:50},children:Object(O.jsx)(H.a,{striped:!0,hover:!0,keyField:"id",data:a,columns:[{dataField:"uid",text:"ID",sort:!0},{dataField:"username",text:"Name",sort:!0},{dataField:"email",text:"Email",sort:!0},{dataField:"provider",text:"Provider",sort:!0}],rowEvents:i})})}var V=function(){return Object(O.jsx)(u.a,{children:Object(O.jsx)(J,{})})},q=new b.c,K=new b.a,Y=new b.b,Q=Object(b.d)(h),_=function(){var e=Object(m.b)(),t=Object(c.useContext)(f).currentUser,n=function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.e)(Q,n);case 2:return t.next=4,Q.currentUser.getIdToken(!0).then((function(t){S.a.post(I+"/auth/login",{},{headers:{"Content-Type":"application/json",idToken:t}}).catch((function(t){e.show("No access!",{timeout:2e3,type:"error"}),console.log(t)}))})).catch((function(t){e.show("Bad token",{timeout:2e3,type:"error"}),console.log(t)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t?Object(O.jsx)(k.c,{to:"/"}):Object(O.jsxs)("div",{className:"container mt-3 mb-2 text-center",children:[Object(O.jsx)("div",{className:"container mt-2 mb-2",children:Object(O.jsx)("div",{className:"btn btn-lg btn-secondary fab fa-google col-3",onClick:function(){return n(q)},children:"Continue with Google"})}),Object(O.jsx)("div",{className:"container mt-2 mb-2",children:Object(O.jsx)("div",{className:"btn btn-lg btn-secondary fab fa-facebook col-3",onClick:function(){return n(K)},children:"Continue with Facebook"})}),Object(O.jsx)("div",{className:"container mt-2 mb-2",children:Object(O.jsx)("div",{className:"btn btn-lg btn-secondary fab fa-github col-3",onClick:function(){return n(Y)},children:"Continue with GitHub"})})]})},W=n(639);function Z(e){var t=Object(c.useContext)(f).currentUser,n=Object(c.useState)([]),a=Object(s.a)(n,2),r=a[0],o=a[1],i=Object(m.b)();return Object(c.useEffect)((function(){function n(){return n=Object(C.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getIdToken(!0).then(function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get(I+"/task/getUserTasks",{headers:{"Content-Type":"application/json",idToken:n},params:{uid:e.uid}}).then((function(e){o(e.data)})).catch((function(e){i.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){i.show("Bad token",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}(function(){return n.apply(this,arguments)})().catch((function(e){console.log(e)}))}),[e,i,t]),Object(O.jsx)("div",{children:r.length?Object(O.jsx)("div",{className:"container",style:{marginTop:50},children:Object(O.jsx)(H.a,{striped:!0,hover:!0,keyField:"id",data:r,columns:[{dataField:"id",text:"Task id",sort:!0},{dataField:"title",text:"Title",sort:!0},{dataField:"theme",text:"Theme",sort:!0}]})}):Object(O.jsx)("div",{})})}function X(){var e=Object(c.useContext)(f).currentUser,t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(k.m)().uid,i=Object(m.b)();return Object(c.useEffect)((function(){function t(){return t=Object(C.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken(!0).then(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(I+"/admin/getProfile",{headers:{"Content-Type":"application/json",idToken:t},params:{uid:o}}).then((function(e){r(e.data)})).catch((function(e){i.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){i.show("Bad token",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(e){console.log(e)}))}),[o,e,i]),a?Object(O.jsxs)(u.a,{className:"mt-2",children:[Object(O.jsxs)(E.a,{children:[Object(O.jsx)(E.a.Header,{children:Object(O.jsx)(E.a.Title,{as:"h2",children:a.username})}),Object(O.jsx)(E.a.Body,{children:Object(O.jsxs)(W.a,{variant:"flush",children:[Object(O.jsxs)(W.a.Item,{as:"h5",children:["Number of tasks created: ",a.createdTasks]}),Object(O.jsxs)(W.a.Item,{as:"h5",children:["Number of solved tasks: ",a.solvedTasks]})]})})]}),a.uid?Object(O.jsx)(Z,{uid:a.uid}):Object(O.jsx)(O.Fragment,{children:"Loading..."})]}):Object(O.jsx)("p",{children:"User not found"})}var $=n(645),ee=n(6),te=n(199),ne={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},ce={borderColor:"#2196f3"},ae={borderColor:"#00e676"},re={borderColor:"#ff1744"};function oe(e){var t=e.getImages;var n=Object(te.a)({maxFiles:2,validator:function(e){return["image/bmp","image/jpeg","image/jpg","image/png"].includes(e.type)?null:{code:"wrong-type",message:"Images only"}}}),a=n.acceptedFiles,r=n.fileRejections,o=n.getRootProps,s=n.getInputProps,i=n.isDragActive,u=n.isDragAccept,j=n.isDragReject,l=a.map((function(e){return Object(O.jsxs)("li",{children:[e.path," - ",e.size," bytes"]},e.path)})),b=r.map((function(e){var t=e.file,n=e.errors;return Object(O.jsxs)("li",{children:[t.path," - ",t.size," bytes",Object(O.jsx)("ul",{children:n.map((function(e){return Object(O.jsx)("li",{children:e.message},e.code)}))})]},t.path)})),d=Object(c.useMemo)((function(){return Object(ee.a)(Object(ee.a)(Object(ee.a)(Object(ee.a)({},ne),i?ce:{}),u?ae:{}),j?re:{})}),[i,j,u]);return Object(c.useEffect)((function(){t(a)}),[t,a]),Object(O.jsxs)("section",{className:"container mt-2",children:[Object(O.jsx)("h4",{children:"Add images"}),Object(O.jsxs)("div",Object(ee.a)(Object(ee.a)({},o({style:d})),{},{children:[Object(O.jsx)("input",Object(ee.a)({},s())),Object(O.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"}),Object(O.jsx)("em",{children:"(3 files are the maximum number of files you can drop here)"})]})),Object(O.jsxs)("aside",{className:"mt-2",children:[Object(O.jsx)("h5",{children:"Accepted files"}),Object(O.jsx)("ul",{children:l}),Object(O.jsx)("h5",{children:"Rejected files"}),Object(O.jsx)("ul",{children:b})]})]})}function se(e){var t=e.getCondition,n=Object(c.useState)("**Condition here**"),a=Object(s.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){t(r)}),[t,r]),Object(O.jsxs)("div",{className:"container mt-3",children:[Object(O.jsx)("h4",{children:"Set condition"}),Object(O.jsx)(D.a,{value:r,onChange:o})]})}var ie=n(647),ue=n(198),je=(n(621),n(622),Object(b.d)(h));function le(e){var t=e.getTitle,n=e.getTheme,a=e.getTags,r=Object(c.useState)(""),o=Object(s.a)(r,2),i=o[0],u=o[1],j=Object(c.useState)(""),l=Object(s.a)(j,2),b=l[0],d=l[1],h=Object(c.useState)([]),f=Object(s.a)(h,2),p=f[0],x=f[1],g=Object(c.useState)([]),v=Object(s.a)(g,2),k=v[0],w=v[1],T=Object(c.useState)([]),N=Object(s.a)(T,2),F=N[0],L=N[1],E=Object(m.b)();Object(c.useEffect)((function(){t(i)}),[t,i]),Object(c.useEffect)((function(){n(b)}),[b,n]),Object(c.useEffect)((function(){a(p)}),[a,p]),Object(c.useEffect)((function(){function e(){return e=Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.currentUser.getIdToken(!0).then(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(I+"/task/getAllTagNames",{headers:{"Content-Type":"application/json",idToken:t}}).then((function(e){w(e.data)})).catch((function(e){E.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}));case 2:return e.next=4,S.a.get(I+"/task/getAllThemes",{headers:{"Content-Type":"application/json",idToken:t}}).then((function(e){L(e.data),d(e.data[0])})).catch((function(e){E.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){E.show("Bad token",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log(e)}))}),[E]);var U=function(e){var t=e.value,n=e.options,c=e.onChange;return Object(O.jsx)($.a.Select,{required:!0,value:t,onChange:c,children:n.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})};return Object(O.jsxs)(ie.a,{gap:3,className:"container mt-2 mx-auto",children:[Object(O.jsxs)($.a.Group,{children:[Object(O.jsx)($.a.Label,{children:Object(O.jsx)("h4",{children:"Choose title"})}),Object(O.jsx)($.a.Control,{required:!0,type:"text",placeholder:"Choose a title...",value:i,onChange:function(e){u(e.target.value)}}),Object(O.jsx)($.a.Control.Feedback,{type:"invalid",children:"Please choose a title."})]}),Object(O.jsxs)($.a.Group,{children:[Object(O.jsx)($.a.Label,{children:Object(O.jsx)("h4",{children:"Chose theme"})}),Object(O.jsx)(U,{value:b,options:F,onChange:function(e){d(e.target.value)}}),Object(O.jsx)($.a.Control.Feedback,{type:"invalid",children:"Please choose a theme."})]}),Object(O.jsxs)($.a.Group,{children:[Object(O.jsx)($.a.Label,{children:Object(O.jsx)("h4",{children:"Choose tags"})}),Object(O.jsx)(ue.a,{clearButton:!0,allowNew:!0,id:"tags",labelKey:"name",multiple:!0,onChange:x,options:k,placeholder:"Choose tags...",selected:p})]})]})}var be=n(17),de=n(640),he=n(196),Oe=n(641);function fe(e){var t=e.getAnswer,n=Object(c.useState)([{answer:""}]),a=Object(s.a)(n,2),r=a[0],o=a[1];Object(c.useEffect)((function(){t(r)}),[t,r]);var i=function(){var e=Object(be.a)(r);e.length<3&&(e.push({answer:""}),o(e))},u=function(e){var t=Object(be.a)(r);t.length>1&&(t.splice(e,1),o(t))},j=function(e,t){var n=Object(be.a)(r);n[e].answer=t.target.value,o(n)};return Object(O.jsxs)($.a.Group,{className:"container mt-2",children:[Object(O.jsx)($.a.Label,{children:Object(O.jsx)("h4",{children:"Set answers"})}),r.map((function(e,t){return Object(O.jsx)(c.Fragment,{children:Object(O.jsxs)(de.a,{className:"mt-2",children:[Object(O.jsxs)(he.a,{md:10,children:[Object(O.jsx)($.a.Control,{required:!0,type:"text",placeholder:"Answer",value:e.answer,onChange:function(e){return j(t,e)}}),Object(O.jsx)($.a.Control.Feedback,{type:"invalid",children:"Please set a answer."})]}),Object(O.jsx)(he.a,{md:2,children:Object(O.jsxs)(Oe.a,{children:[Object(O.jsx)(A.a,{variant:"secondary",onClick:function(){return u(t)},children:"-"}),Object(O.jsx)(A.a,{variant:"secondary",onClick:function(){return i()},children:"+"})]})})]})},"".concat(e,"~").concat(t))}))]})}var pe=Object(B.b)(),xe=function(){var e=(new Date).getTime(),t=Object(c.useContext)(f).currentUser,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(""),u=Object(s.a)(i,2),j=u[0],l=u[1],b=Object(c.useState)(null),d=Object(s.a)(b,2),h=d[0],p=d[1],x=Object(c.useState)(null),g=Object(s.a)(x,2),v=g[0],k=g[1],w=Object(c.useState)(null),T=Object(s.a)(w,2),N=T[0],F=T[1],E=Object(c.useState)([]),U=Object(s.a)(E,2),P=U[0],R=U[1],D=Object(c.useState)(!1),G=Object(s.a)(D,2),z=G[0],M=G[1],H=Object(m.b)(),J=Object(c.useCallback)((function(e){o(e)}),[]),V=Object(c.useCallback)((function(e){l(e)}),[]),q=Object(c.useCallback)((function(e){p(e)}),[]),K=Object(c.useCallback)((function(e){k(e)}),[]),Y=Object(c.useCallback)((function(e){R(e)}),[]),Q=Object(c.useCallback)((function(e){F(e)}),[]),_=function(e,n){return new Promise((function(c,a){var r=Object(B.c)(pe,"/".concat(t.uid,"/").concat(e,"/").concat(n.name)),o=Object(B.d)(r,n),s=a;o.on("state_changed",(function(){}),s,(function(){Object(B.a)(o.snapshot.ref).then(c).catch(a)}))}))};function W(){return Z.apply(this,arguments)}function Z(){return(Z=Object(C.a)(y.a.mark((function n(){var c,a,o,s,i,u,l,b,d;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=[],a=null,o=[],s=[],i=Object(L.a)(N),n.prev=5,i.s();case 7:if((u=i.n()).done){n.next=13;break}return l=u.value,n.next=11,_("Images",l).then((function(e){c.push(e)}));case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),i.e(n.t0);case 18:return n.prev=18,i.f(),n.finish(18);case 21:return b=new File([v],"".concat(e,".md"),{type:"text/markdown"}),n.next=24,_("Conditions",b).then((function(e){a=e}));case 24:return h.forEach((function(e){e.substring?o.push(e):o.push(e.name)})),P.forEach((function(e){s.push(e.answer)})),d={title:r,theme:j,tags:o,conditionURL:a,images:c,answers:s},console.log(d),n.next=30,t.getIdToken(!0).then((function(e){S.a.post(I+"/task/create",d,{headers:{"Content-Type":"application/json",idToken:e}}).then((function(){window.location.href="/home",H.show("Successfully created!",{timeout:2e3,type:"error"})})).catch((function(e){H.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}))})).catch((function(e){H.show("Bad token",{timeout:2e3,type:"error"}),console.log(e)}));case 30:case"end":return n.stop()}}),n,null,[[5,15,18,21]])})))).apply(this,arguments)}var X=function(){var e=Object(C.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentTarget,t.preventDefault(),!1!==n.checkValidity()){e.next=7;break}M(!0),t.stopPropagation(),e.next=10;break;case 7:return console.log("go"),e.next=10,W();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)($.a,{className:"col-md-6 mt-2 mx-auto",noValidate:!0,validated:z,onSubmit:X,children:[Object(O.jsx)("h2",{className:"text-center",children:"Create new task"}),Object(O.jsx)(le,{getTitle:J,getTheme:V,getTags:q}),Object(O.jsx)(se,{getCondition:K}),Object(O.jsx)(fe,{getAnswer:Y}),Object(O.jsx)(oe,{getImages:Q}),Object(O.jsx)("div",{className:"d-grid gap-2",children:Object(O.jsx)(A.a,{variant:"primary",size:"lg",type:"submit",children:"Create"})})]})},me=n(192),ge=n(642);function ve(){var e=Object(c.useContext)(f).currentUser,t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),i=Object(s.a)(o,2),j=i[0],l=i[1],b=Object(c.useState)([]),d=Object(s.a)(b,2),h=d[0],p=d[1],x=Object(c.useState)([]),g=Object(s.a)(x,2),v=g[0],w=g[1],T=Object(k.m)().taskId,N=Object(m.b)();return Object(c.useEffect)((function(){function t(){return t=Object(C.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken(!0).then(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(I+"/task/getTask",{headers:{"Content-Type":"application/json",idToken:t},params:{taskId:T}}).then(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t.data.conditionURL).then((function(e){l(e)}));case 2:r(t.data),w(t.data.tags),p(t.data.images);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N.show("No access!",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N.show("Bad token",{timeout:2e3,type:"error"}),console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(e){console.log(e)}))}),[T,N,e]),Object(O.jsx)(u.a,{className:" mt-2 mx-auto text-center",children:Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(E.a.Header,{children:[Object(O.jsx)(E.a.Title,{as:"h2",children:a.title}),Object(O.jsx)(E.a.Subtitle,{className:"text-muted",children:a.theme}),v.map((function(e,t){return Object(O.jsx)(U.a,{bg:"primary",className:"mx-1",children:e},t)}))]}),Object(O.jsx)(E.a.Body,{children:Object(O.jsxs)(W.a,{className:"list-group-flush",children:[Object(O.jsx)(me.a,{children:Object(O.jsx)(D.a.Markdown,{source:j})}),Object(O.jsx)(me.a,{children:Object(O.jsx)(de.a,{children:h.map((function(e,t){return Object(O.jsx)(he.a,{children:Object(O.jsx)(ge.a,{src:e,rounded:!0,height:"30%"})},t)}))})})]})})]})})}var ke=n(14),we=["component"],ye=function(e){var t=e.component,n=Object(ke.a)(e,we),a=Object(c.useContext)(f).currentUser;return Object(O.jsx)(k.d,Object(ee.a)(Object(ee.a)({},n),{},{render:function(e){return a?Object(O.jsx)(t,Object(ee.a)({},e)):Object(O.jsx)(k.c,{to:"/login"})}}))};var Ce=function(){return Object(O.jsx)(x,{children:Object(O.jsxs)(v.BrowserRouter,{children:[Object(O.jsx)(g,{}),Object(O.jsxs)(k.g,{children:[Object(O.jsx)(k.d,{exact:!0,path:"/home",component:z}),Object(O.jsx)(k.d,{exact:!0,path:"/",component:z}),Object(O.jsx)(ye,{exact:!0,path:"/admin",component:V}),Object(O.jsx)(k.d,{exact:!0,path:"/login",component:_}),Object(O.jsx)(ye,{exact:!0,path:"/createTask",component:xe}),Object(O.jsx)(k.d,{exact:!0,path:"/profile/:uid",component:X}),Object(O.jsx)(k.d,{exact:!0,path:"/task/:taskId",component:ve})]})]})})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,648)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},Ne=(n(623),n(197));o.a.render(Object(O.jsx)(m.a,{template:Ne.a,children:Object(O.jsxs)(v.BrowserRouter,{children:[Object(O.jsx)(Ce,{}),","]})}),document.getElementById("root")),Te()}},[[624,1,2]]]);
//# sourceMappingURL=main.9ed02354.chunk.js.map